{"ast":null,"code":"var _jsxFileName = \"/home/brianmuciri/Projects/farm-ledger-ld/src/Routes/Users.js\";\nimport Layout from \"../components/PrivateLayout\";\nimport Grid from \"@material-ui/core/Grid\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport UndoIcon from \"@material-ui/icons/Undo\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport { handleDelete, deleteFirebaseUsers } from \"../actions/actions\";\nimport PageHeading from \"../components/PageHeading\";\nimport CommonTable from \"../components/table/commonTable\";\nimport { commonStyles } from \"../components/commonStyles\";\nimport { withRouter } from \"react-router-dom\";\nimport ExportToExcelBtn from \"../components/ExportToExcelBtn\";\nconst usersTableHeadCells = [{\n  id: \"first_name\",\n  numeric: false,\n  disablePadding: true,\n  label: \"First Name\"\n}, {\n  id: \"last_name\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Last Name\"\n}, {\n  id: \"personal_phone_number\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Phone Number\"\n}, {\n  id: \"primary_email\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Primary Email\"\n}, {\n  id: \"id_number\",\n  numeric: false,\n  disablePadding: true,\n  label: \"ID Number\"\n}, {\n  id: \"details\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Details\"\n}, {\n  id: \"edit\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Edit\"\n}, {\n  id: \"delete\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Delete\"\n}];\n\nlet UsersPage = ({\n  users,\n  match,\n  handleItemDelete\n}) => {\n  let [userItems, setUserItems] = useState([]);\n  let [firstNameFilter, setFirstNameFilter] = useState(\"\");\n  let [lastNameFilter, setLastNameFilter] = useState(\"\");\n  const [selected, setSelected] = useState([]);\n  useEffect(() => {\n    setUserItems(users);\n  }, [users]);\n  const classes = commonStyles();\n\n  const handleSearchFormSubmit = event => {\n    event.preventDefault(); //filter the users here according to search criteria\n\n    let filteredUsers = userItems.filter(({\n      first_name\n    }) => !firstNameFilter ? true : first_name.toLowerCase().includes(firstNameFilter.toLowerCase())).filter(({\n      last_name\n    }) => !lastNameFilter ? true : last_name.toLowerCase().includes(lastNameFilter.toLowerCase()));\n    setUserItems(filteredUsers);\n  };\n\n  const resetSearchForm = event => {\n    event.preventDefault();\n    setUserItems(users);\n    setFirstNameFilter(\"\");\n    setLastNameFilter(\"\");\n  };\n\n  const deleteUserAuthentication = async (userId, url) => {\n    await deleteFirebaseUsers({\n      userIds: [userId]\n    });\n    handleItemDelete(userId, \"users\");\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    pageTitle: \"Users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    justify: \"space-evenly\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeading, {\n    text: \"Users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    item: true,\n    alignItems: \"center\",\n    direction: \"row\",\n    key: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }),\n    component: Link,\n    to: `${match.url}/new`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"NEW\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }),\n    disabled: !selected.length,\n    component: Link,\n    to: `${match.url}/${selected[0]}/edit`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, \"Edit\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    component: Link,\n    to: `/app/emails/new?contact=${selected[0]}&contactSource=Users`,\n    disabled: !selected.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"Compose Email\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ExportToExcelBtn, {\n    disabled: !selected.length,\n    reportName: 'Users Records',\n    reportTitle: 'Users Data',\n    headCells: usersTableHeadCells,\n    dataToPrint: userItems.filter(({\n      id\n    }) => selected.includes(id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    border: 1,\n    borderRadius: \"borderRadius\",\n    borderColor: \"grey.400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    id: \"userSearchForm\",\n    onSubmit: handleSearchFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"center\",\n    direction: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 6,\n    md: 12,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"first_name\",\n    name: \"first_name\",\n    label: \"First Name\",\n    value: firstNameFilter || \"\",\n    onChange: event => {\n      setFirstNameFilter(event.target.value.trim());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 6,\n    md: 12,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    name: \"last_name\",\n    label: \"Last Name\",\n    id: \"last_name\",\n    onChange: event => {\n      setLastNameFilter(event.target.value.trim());\n    },\n    value: lastNameFilter || \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    item: true,\n    justify: \"flex-end\",\n    alignItems: \"center\",\n    direction: \"row\",\n    key: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    form: \"userSearchForm\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(SearchIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 22\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 10\n    }\n  }, \"SEARCH\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: event => {\n      resetSearchForm(event);\n    },\n    type: \"reset\",\n    form: \"propertySearchForm\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(UndoIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 22\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 10\n    }\n  }, \"RESET\")))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CommonTable, {\n    selected: selected,\n    setSelected: setSelected,\n    deleteUrl: 'users',\n    rows: userItems,\n    noDetailsCol: true,\n    headCells: usersTableHeadCells,\n    handleDelete: deleteUserAuthentication,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 6\n    }\n  }))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.currentUser,\n    users: state.users\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleItemDelete: (itemId, url) => dispatch(handleDelete(itemId, url))\n  };\n};\n\nUsersPage = connect(mapStateToProps, mapDispatchToProps)(UsersPage);\nexport default withRouter(UsersPage);","map":{"version":3,"sources":["/home/brianmuciri/Projects/farm-ledger-ld/src/Routes/Users.js"],"names":["Layout","Grid","React","useState","useEffect","Link","EditIcon","SearchIcon","UndoIcon","AddIcon","TextField","Box","Button","connect","handleDelete","deleteFirebaseUsers","PageHeading","CommonTable","commonStyles","withRouter","ExportToExcelBtn","usersTableHeadCells","id","numeric","disablePadding","label","UsersPage","users","match","handleItemDelete","userItems","setUserItems","firstNameFilter","setFirstNameFilter","lastNameFilter","setLastNameFilter","selected","setSelected","classes","handleSearchFormSubmit","event","preventDefault","filteredUsers","filter","first_name","toLowerCase","includes","last_name","resetSearchForm","deleteUserAuthentication","userId","url","userIds","length","form","target","value","trim","mapStateToProps","state","currentUser","mapDispatchToProps","dispatch","itemId"],"mappings":"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","sourcesContent":["import Layout from \"../components/PrivateLayout\";\nimport Grid from \"@material-ui/core/Grid\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport UndoIcon from \"@material-ui/icons/Undo\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport { handleDelete, deleteFirebaseUsers } from \"../actions/actions\";\nimport PageHeading from \"../components/PageHeading\";\nimport CommonTable from \"../components/table/commonTable\";\nimport { commonStyles } from \"../components/commonStyles\";\nimport { withRouter } from \"react-router-dom\";\nimport ExportToExcelBtn from \"../components/ExportToExcelBtn\";\n\nconst usersTableHeadCells = [\n\t{ id: \"first_name\", numeric: false, disablePadding: true, label: \"First Name\" },\n\t{ id: \"last_name\", numeric: false, disablePadding: true, label: \"Last Name\" },\n\t{ id: \"personal_phone_number\", numeric: false, disablePadding: true, label: \"Phone Number\" },\n\t{ id: \"primary_email\", numeric: false, disablePadding: true, label: \"Primary Email\" },\n\t{ id: \"id_number\", numeric: false, disablePadding: true, label: \"ID Number\" },\n\t{ id: \"details\", numeric: false, disablePadding: true, label: \"Details\" },\n\t{ id: \"edit\", numeric: false, disablePadding: true, label: \"Edit\" },\n\t{ id: \"delete\", numeric: false, disablePadding: true, label: \"Delete\" },\n];\n\nlet UsersPage = ({\n\tusers,\n\tmatch,\n\thandleItemDelete,\n}) => {\n\tlet [userItems, setUserItems] = useState([]);\n\tlet [firstNameFilter, setFirstNameFilter] = useState(\"\");\n\tlet [lastNameFilter, setLastNameFilter] = useState(\"\");\n\tconst [selected, setSelected] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetUserItems(users)\n\t}, [users])\n\n\tconst classes = commonStyles();\n\n\tconst handleSearchFormSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\t//filter the users here according to search criteria\n\t\tlet filteredUsers = userItems\n\t\t\t.filter(({ first_name }) =>\n\t\t\t\t!firstNameFilter ? true : first_name.toLowerCase().includes(firstNameFilter.toLowerCase())\n\t\t\t)\n\t\t\t.filter(({ last_name }) =>\n\t\t\t\t!lastNameFilter ? true : last_name.toLowerCase().includes(lastNameFilter.toLowerCase())\n\t\t\t)\n\n\t\tsetUserItems(filteredUsers);\n\t};\n\n\tconst resetSearchForm = (event) => {\n\t\tevent.preventDefault();\n\t\tsetUserItems(users);\n\t\tsetFirstNameFilter(\"\");\n\t\tsetLastNameFilter(\"\");\n\t};\n\n\tconst deleteUserAuthentication = async (userId, url) => {\n\t\tawait deleteFirebaseUsers({ userIds: [userId] });\n\t\thandleItemDelete(userId, \"users\")\n\t}\n\n\treturn (\n\t\t<Layout pageTitle=\"Users\">\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={3}\n\t\t\t\tjustify=\"space-evenly\"\n\t\t\t\talignItems=\"center\"\n\t\t\t>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<PageHeading text=\"Users\" />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tspacing={2}\n\t\t\t\t\titem\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tkey={1}\n\t\t\t\t>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\tto={`${match.url}/new`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNEW\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\tstartIcon={<EditIcon />}\n\t\t\t\t\t\t\tdisabled={!selected.length}\n\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\tto={`${match.url}/${selected[0]}/edit`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\tto={`/app/emails/new?contact=${selected[0]}&contactSource=Users`}\n\t\t\t\t\t\t\tdisabled={!selected.length}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCompose Email\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<ExportToExcelBtn\n\t\t\t\t\t\t\tdisabled={!selected.length}\n\t\t\t\t\t\t\treportName={'Users Records'}\n\t\t\t\t\t\t\treportTitle={'Users Data'}\n\t\t\t\t\t\t\theadCells={usersTableHeadCells}\n\t\t\t\t\t\t\tdataToPrint={userItems.filter(({ id }) => selected.includes(id))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tborder={1}\n\t\t\t\t\t\tborderRadius=\"borderRadius\"\n\t\t\t\t\t\tborderColor=\"grey.400\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\t\tid=\"userSearchForm\"\n\t\t\t\t\t\t\tonSubmit={handleSearchFormSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item lg={6} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"first_name\"\n\t\t\t\t\t\t\t\t\t\tname=\"first_name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"First Name\"\n\t\t\t\t\t\t\t\t\t\tvalue={firstNameFilter || \"\"}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFirstNameFilter(\n\t\t\t\t\t\t\t\t\t\t\t\tevent.target.value.trim()\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item lg={6} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tname=\"last_name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Last Name\"\n\t\t\t\t\t\t\t\t\t\tid=\"last_name\"\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tsetLastNameFilter(\n\t\t\t\t\t\t\t\t\t\t\t\tevent.target.value.trim()\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvalue={lastNameFilter || \"\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\tkey={1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tform=\"userSearchForm\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\tstartIcon={<SearchIcon />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSEARCH\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tresetSearchForm(event);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttype=\"reset\"\n\t\t\t\t\t\t\t\t\t\tform=\"propertySearchForm\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\tstartIcon={<UndoIcon />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tRESET\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<CommonTable\n\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\tsetSelected={setSelected}\n\t\t\t\t\t\tdeleteUrl={'users'}\n\t\t\t\t\t\trows={userItems}\n\t\t\t\t\t\tnoDetailsCol={true}\n\t\t\t\t\t\theadCells={usersTableHeadCells}\n\t\t\t\t\t\thandleDelete={deleteUserAuthentication}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Layout>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tcurrentUser: state.currentUser,\n\t\tusers: state.users,\n\t};\n};\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\thandleItemDelete: (itemId, url) => dispatch(handleDelete(itemId, url)),\n\t};\n};\n\nUsersPage = connect(mapStateToProps, mapDispatchToProps)(UsersPage);\n\nexport default withRouter(UsersPage);\n"]},"metadata":{},"sourceType":"module"}