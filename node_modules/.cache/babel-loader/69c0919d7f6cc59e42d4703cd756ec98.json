{"ast":null,"code":"var _jsxFileName = \"/home/brianmuciri/Projects/farm-ledger-ld/src/components/users/UserInputForm.js\";\nimport React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { useHistory } from \"react-router-dom\";\nimport { commonStyles } from \"../commonStyles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport CustomSnackbar from '../CustomSnackbar';\nimport CustomCircularProgress from \"../CustomCircularProgress\";\nimport { getContactTitles, getGendersList } from \"../../assets/commonAssets.js\";\nimport { adminCreateFirebaseUser, setDatabaseRefCustomClaim, uploadFilesToFirebase, deleteUploadedFileByUrl, updateFirebaseUser } from \"../../actions/actions\";\nimport * as Yup from \"yup\";\nimport { Formik } from \"formik\";\nimport ImageCropper from '../ImageCropper';\nconst CONTACT_TITLES = getContactTitles();\nconst GENDERS_LIST = getGendersList();\nconst UserSchema = Yup.object().shape({\n  title: Yup.string().trim().required(\"Title is required\"),\n  gender: Yup.string().trim().required(\"Gender is required\"),\n  first_name: Yup.string().trim().required(\"First Name is required\"),\n  last_name: Yup.string().trim().required(\"Last Name is Required\"),\n  id_number: Yup.string().trim().min(8).required(\"Id Number is Required\"),\n  primary_email: Yup.string().trim().email(\"Invalid Email\").required(\"Primary Email is Required\"),\n  other_email: Yup.string().trim().email(\"Invalid Email\"),\n  personal_phone_number: Yup.string().trim().min(10, 'Too Short').required(\"Phone Number is Required\"),\n  work_mobile_number: Yup.string().trim().min(10, 'Too Short'),\n  password: Yup.string().trim().min(6, \"Too Short!\").max(20, \"We prefer an insecure system, try a shorter password.\").required(\"Pasword is Required\"),\n  confirm_password: Yup.string().trim().test(\"passwords-match\", \"Passwords must match\", function (value) {\n    return this.parent.password === value;\n  }).required(\"Please Confirm Password\")\n});\n\nlet UserInputForm = props => {\n  let {\n    handleItemSubmit\n  } = props;\n  const userToEdit = props.userToEdit ? props.userToEdit : {};\n  const userValues = {\n    id: userToEdit.id,\n    gender: userToEdit.gender || \"\",\n    title: userToEdit.title || \"\",\n    id_number: userToEdit.id_number || '',\n    first_name: userToEdit.first_name || '',\n    last_name: userToEdit.last_name || '',\n    primary_email: userToEdit.primary_email || '',\n    other_email: userToEdit.other_email || '',\n    personal_phone_number: userToEdit.personal_phone_number || '',\n    work_mobile_number: userToEdit.work_mobile_number || '',\n    user_avatar_url: userToEdit.user_avatar_url || '',\n    user_image: '',\n    password: '',\n    confirm_password: ''\n  };\n  const history = useHistory();\n  let classes = commonStyles();\n  return /*#__PURE__*/React.createElement(Formik, {\n    initialValues: userValues,\n    enableReinitialize: true,\n    validationSchema: UserSchema,\n    onSubmit: async (values, {\n      resetForm,\n      setStatus\n    }) => {\n      try {\n        const user = {\n          id: values.id,\n          title: values.title,\n          gender: values.gender,\n          id_number: values.id_number,\n          first_name: values.first_name,\n          last_name: values.last_name,\n          primary_email: values.primary_email,\n          other_email: values.other_email,\n          personal_phone_number: values.personal_phone_number,\n          work_mobile_number: values.work_mobile_number\n        }; //first upload the image to firebase\n\n        if (values.user_image && values.user_image.data) {\n          //if the user had previously had a file avatar uploaded\n          // then delete it here\n          if (values.user_avatar_url) {\n            //delete file\n            await deleteUploadedFileByUrl(values.user_avatar_url);\n          } //upload the first and only image in the contact images array\n\n\n          var fileDownloadUrl = await uploadFilesToFirebase(values.user_image);\n          user.user_avatar_url = fileDownloadUrl;\n        } //edit user if already present else create new user who can actually log in\n        //if an error occurs just terminate without saving any user details in the database\n\n\n        if (values.id) {\n          //this means we should update the user\n          await updateFirebaseUser({\n            uid: values.id,\n            userProfile: {\n              email: values.primary_email,\n              password: values.password\n            }\n          });\n        } else {\n          //create new user and store profile info\n          const returnData = await adminCreateFirebaseUser({\n            email: values.primary_email,\n            password: values.password\n          });\n          const newUserData = returnData.data; //asign new user uid to user profile\n\n          Object.assign(user, {\n            id: newUserData.uid\n          });\n\n          if (newUserData) {\n            //set the admin user's database ref to new user's custom claims\n            //this is not an admin user however so no setting of admin privileges\n            await setDatabaseRefCustomClaim({\n              userId: newUserData.uid\n            });\n          }\n        } //store the user's profile in the db\n\n\n        await handleItemSubmit(user, \"users\");\n        resetForm({});\n\n        if (values.id) {\n          history.goBack();\n        } // show that everything is successfully done\n\n\n        setStatus({\n          sent: true,\n          msg: \"Details saved successfully.\"\n        });\n      } catch (error) {\n        setStatus({\n          sent: false,\n          msg: `Error! ${error}.`\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 3\n    }\n  }, ({\n    values,\n    status,\n    touched,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isSubmitting,\n    setFieldValue\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    method: \"post\",\n    noValidate: true,\n    id: \"userInputForm\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    justify: \"center\",\n    alignItems: \"center\",\n    direction: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 6\n    }\n  }, status && status.msg && /*#__PURE__*/React.createElement(CustomSnackbar, {\n    variant: status.sent ? \"success\" : \"error\",\n    message: status.msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }), isSubmitting && /*#__PURE__*/React.createElement(CustomCircularProgress, {\n    open: true,\n    dialogTitle: \"Saving user info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    justify: \"center\",\n    container: true,\n    item: true,\n    direction: \"column\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    justify: \"center\",\n    spacing: 4,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    key: 1,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"User Image\",\n    src: values.user_image ? values.user_image.data : values.user_avatar_url,\n    className: classes.largeAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 10\n    }\n  })), values.file_to_load_url && /*#__PURE__*/React.createElement(ImageCropper, {\n    open: true,\n    selectedFile: values.file_to_load_url,\n    setCroppedImageData: croppedImage => {\n      setFieldValue('file_to_load_url', '');\n      setFieldValue('user_image', croppedImage);\n    },\n    cropHeight: 160,\n    cropWidth: 160,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    key: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      const selectedFile = event.currentTarget.files[0]; //remove the object then push a copy of it with added image object\n\n      setFieldValue(\"file_to_load_url\", selectedFile);\n    },\n    accept: \"image/*\",\n    className: classes.fileInputDisplayNone,\n    id: \"user-image-input\",\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"user-image-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"primary\",\n    \"aria-label\": \"upload picture\",\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(PhotoCamera, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  }, values.user_avatar_url || values.user_image ? \"Change Photo\" : \"Add Photo\")))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    variant: \"outlined\",\n    select: true,\n    name: \"title\",\n    label: \"Title\",\n    id: \"title\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.title,\n    error: errors.title && touched.title,\n    helperText: touched.title && errors.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 10\n    }\n  }, CONTACT_TITLES.map((contact_title, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: contact_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 12\n    }\n  }, contact_title)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    variant: \"outlined\",\n    select: true,\n    name: \"gender\",\n    label: \"Gender\",\n    id: \"gender\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.gender,\n    error: errors.gender && touched.gender,\n    helperText: touched.gender && errors.gender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 10\n    }\n  }, GENDERS_LIST.map((gender_type, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: gender_type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 12\n    }\n  }, gender_type))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    variant: \"outlined\",\n    id: \"first_name\",\n    name: \"first_name\",\n    label: \"First Name\",\n    value: values.first_name,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.first_name && touched.first_name,\n    helperText: touched.first_name && errors.first_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    variant: \"outlined\",\n    id: \"last_name\",\n    name: \"last_name\",\n    label: \"Last Name\",\n    value: values.last_name,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.last_name && touched.last_name,\n    helperText: touched.last_name && errors.last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    variant: \"outlined\",\n    id: \"id_number\",\n    name: \"id_number\",\n    label: \"ID Number\",\n    value: values.id_number,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.id_number && touched.id_number,\n    helperText: touched.id_number && errors.id_number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    variant: \"outlined\",\n    id: \"personal_phone_number\",\n    name: \"personal_phone_number\",\n    label: \"Personal Phone Number\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.personal_phone_number && touched.personal_phone_number,\n    helperText: touched.personal_phone_number && errors.personal_phone_number,\n    value: values.personal_phone_number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"work_mobile_number\",\n    name: \"work_mobile_number\",\n    label: \"Work Phone Number\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    helperText: \"Work Phone Number\",\n    value: values.work_mobile_number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    variant: \"outlined\",\n    name: \"primary_email\",\n    label: \"Primary Email\",\n    id: \"primary_email\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.primary_email,\n    error: errors.primary_email && touched.primary_email,\n    helperText: touched.primary_email && errors.primary_email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    name: \"other_email\",\n    label: \"Other Email\",\n    id: \"other_email\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.other_email,\n    error: errors.other_email && touched.other_email,\n    helperText: touched.other_email && errors.other_email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 9\n    }\n  }, \"Password\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    required: true,\n    type: \"password\",\n    variant: \"outlined\",\n    name: \"password\",\n    label: \"User Password\",\n    id: \"password\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.password,\n    error: errors.password && touched.password,\n    helperText: touched.password && errors.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    type: \"password\",\n    required: true,\n    variant: \"outlined\",\n    name: \"confirm_password\",\n    label: \"Confirm Password\",\n    id: \"confirm_password\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.confirm_password,\n    error: errors.confirm_password && touched.confirm_password,\n    helperText: touched.confirm_password && errors.confirm_password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 10\n    }\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    className: classes.buttonBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(CancelIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 21\n      }\n    }),\n    onClick: () => history.goBack(),\n    disableElevation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 9\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 21\n      }\n    }),\n    form: \"userInputForm\",\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 9\n    }\n  }, values.id ? \"Save Details\" : \"Create User\"))))));\n};\n\nexport default UserInputForm;","map":{"version":3,"sources":["/home/brianmuciri/Projects/farm-ledger-ld/src/components/users/UserInputForm.js"],"names":["React","Box","Button","Avatar","TextField","MenuItem","Grid","Typography","SaveIcon","CancelIcon","useHistory","commonStyles","IconButton","PhotoCamera","CustomSnackbar","CustomCircularProgress","getContactTitles","getGendersList","adminCreateFirebaseUser","setDatabaseRefCustomClaim","uploadFilesToFirebase","deleteUploadedFileByUrl","updateFirebaseUser","Yup","Formik","ImageCropper","CONTACT_TITLES","GENDERS_LIST","UserSchema","object","shape","title","string","trim","required","gender","first_name","last_name","id_number","min","primary_email","email","other_email","personal_phone_number","work_mobile_number","password","max","confirm_password","test","value","parent","UserInputForm","props","handleItemSubmit","userToEdit","userValues","id","user_avatar_url","user_image","history","classes","values","resetForm","setStatus","user","data","fileDownloadUrl","uid","userProfile","returnData","newUserData","Object","assign","userId","goBack","sent","msg","error","status","touched","errors","handleChange","handleBlur","handleSubmit","isSubmitting","setFieldValue","form","largeAvatar","file_to_load_url","croppedImage","event","selectedFile","currentTarget","files","fileInputDisplayNone","map","contact_title","index","gender_type","buttonBox"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { useHistory } from \"react-router-dom\";\nimport { commonStyles } from \"../commonStyles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport CustomSnackbar from '../CustomSnackbar'\nimport CustomCircularProgress from \"../CustomCircularProgress\";\nimport {\n\tgetContactTitles,\n\tgetGendersList,\n} from \"../../assets/commonAssets.js\";\nimport {\n\tadminCreateFirebaseUser,\n\tsetDatabaseRefCustomClaim,\n\tuploadFilesToFirebase,\n\tdeleteUploadedFileByUrl,\n\tupdateFirebaseUser,\n} from \"../../actions/actions\";\nimport * as Yup from \"yup\";\nimport { Formik } from \"formik\";\nimport ImageCropper from '../ImageCropper';\n\nconst CONTACT_TITLES = getContactTitles();\nconst GENDERS_LIST = getGendersList();\n\n\nconst UserSchema = Yup.object().shape({\n\ttitle: Yup.string().trim().required(\"Title is required\"),\n\tgender: Yup.string().trim().required(\"Gender is required\"),\n\tfirst_name: Yup.string().trim().required(\"First Name is required\"),\n\tlast_name: Yup.string().trim().required(\"Last Name is Required\"),\n\tid_number: Yup.string().trim().min(8).required(\"Id Number is Required\"),\n\tprimary_email: Yup.string().trim().email(\"Invalid Email\").required(\"Primary Email is Required\"),\n\tother_email: Yup.string().trim().email(\"Invalid Email\"),\n\tpersonal_phone_number: Yup.string().trim().min(10, 'Too Short').required(\"Phone Number is Required\"),\n\twork_mobile_number: Yup.string().trim().min(10, 'Too Short'),\n\tpassword: Yup.string().trim().min(6, \"Too Short!\")\n\t\t.max(20, \"We prefer an insecure system, try a shorter password.\")\n\t\t.required(\"Pasword is Required\"),\n\tconfirm_password: Yup.string().trim()\n\t\t.test(\"passwords-match\", \"Passwords must match\", function (value) {\n\t\t\treturn this.parent.password === value;\n\t\t}).required(\"Please Confirm Password\")\n});\n\nlet UserInputForm = (props) => {\n\tlet { handleItemSubmit } = props;\n\tconst userToEdit = props.userToEdit ? props.userToEdit : {};\n\tconst userValues = {\n\t\tid: userToEdit.id,\n\t\tgender: userToEdit.gender || \"\",\n\t\ttitle: userToEdit.title || \"\",\n\t\tid_number: userToEdit.id_number || '',\n\t\tfirst_name: userToEdit.first_name || '',\n\t\tlast_name: userToEdit.last_name || '',\n\t\tprimary_email: userToEdit.primary_email || '',\n\t\tother_email: userToEdit.other_email || '',\n\t\tpersonal_phone_number: userToEdit.personal_phone_number || '',\n\t\twork_mobile_number: userToEdit.work_mobile_number || '',\n\t\tuser_avatar_url: userToEdit.user_avatar_url || '',\n\t\tuser_image: '',\n\t\tpassword: '',\n\t\tconfirm_password: ''\n\t}\n\tconst history = useHistory();\n\tlet classes = commonStyles();\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={userValues}\n\t\t\tenableReinitialize\n\t\t\tvalidationSchema={UserSchema}\n\t\t\tonSubmit={async (values, { resetForm, setStatus }) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst user = {\n\t\t\t\t\t\tid: values.id,\n\t\t\t\t\t\ttitle: values.title,\n\t\t\t\t\t\tgender: values.gender,\n\t\t\t\t\t\tid_number: values.id_number,\n\t\t\t\t\t\tfirst_name: values.first_name,\n\t\t\t\t\t\tlast_name: values.last_name,\n\t\t\t\t\t\tprimary_email: values.primary_email,\n\t\t\t\t\t\tother_email: values.other_email,\n\t\t\t\t\t\tpersonal_phone_number: values.personal_phone_number,\n\t\t\t\t\t\twork_mobile_number: values.work_mobile_number,\n\t\t\t\t\t};\n\t\t\t\t\t//first upload the image to firebase\n\t\t\t\t\tif (values.user_image && values.user_image.data) {\n\t\t\t\t\t\t//if the user had previously had a file avatar uploaded\n\t\t\t\t\t\t// then delete it here\n\t\t\t\t\t\tif (values.user_avatar_url) {\n\t\t\t\t\t\t\t//delete file\n\t\t\t\t\t\t\tawait deleteUploadedFileByUrl(values.user_avatar_url);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//upload the first and only image in the contact images array\n\t\t\t\t\t\tvar fileDownloadUrl = await uploadFilesToFirebase(values.user_image)\n\t\t\t\t\t\tuser.user_avatar_url = fileDownloadUrl;\n\t\t\t\t\t}\n\t\t\t\t\t//edit user if already present else create new user who can actually log in\n\t\t\t\t\t//if an error occurs just terminate without saving any user details in the database\n\t\t\t\t\tif (values.id) {\n\t\t\t\t\t\t//this means we should update the user\n\t\t\t\t\t\tawait updateFirebaseUser({\n\t\t\t\t\t\t\tuid: values.id,\n\t\t\t\t\t\t\tuserProfile: {\n\t\t\t\t\t\t\t\temail: values.primary_email,\n\t\t\t\t\t\t\t\tpassword: values.password\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//create new user and store profile info\n\t\t\t\t\t\tconst returnData = await adminCreateFirebaseUser({\n\t\t\t\t\t\t\temail: values.primary_email,\n\t\t\t\t\t\t\tpassword: values.password,\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconst newUserData = returnData.data\n\t\t\t\t\t\t//asign new user uid to user profile\n\t\t\t\t\t\tObject.assign(user, { id: newUserData.uid })\n\t\t\t\t\t\tif (newUserData) {\n\t\t\t\t\t\t\t//set the admin user's database ref to new user's custom claims\n\t\t\t\t\t\t\t//this is not an admin user however so no setting of admin privileges\n\t\t\t\t\t\t\tawait setDatabaseRefCustomClaim({ userId: newUserData.uid })\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//store the user's profile in the db\n\t\t\t\t\tawait handleItemSubmit(user, \"users\")\n\t\t\t\t\tresetForm({});\n\t\t\t\t\tif (values.id) {\n\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t}\n\t\t\t\t\t// show that everything is successfully done\n\t\t\t\t\tsetStatus({ sent: true, msg: \"Details saved successfully.\" })\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetStatus({ sent: false, msg: `Error! ${error}.` })\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{({\n\t\t\t\tvalues,\n\t\t\t\tstatus,\n\t\t\t\ttouched,\n\t\t\t\terrors,\n\t\t\t\thandleChange,\n\t\t\t\thandleBlur,\n\t\t\t\thandleSubmit,\n\t\t\t\tisSubmitting,\n\t\t\t\tsetFieldValue,\n\t\t\t}) => (\n\t\t\t\t<form\n\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\tnoValidate\n\t\t\t\t\tid=\"userInputForm\"\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={4}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstatus && status.msg && (\n\t\t\t\t\t\t\t\t<CustomSnackbar\n\t\t\t\t\t\t\t\t\tvariant={status.sent ? \"success\" : \"error\"}\n\t\t\t\t\t\t\t\t\tmessage={status.msg}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisSubmitting && (<CustomCircularProgress open={true} dialogTitle=\"Saving user info\"/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\tspacing={4}\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid key={1} item>\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\talt=\"User Image\"\n\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\tvalues.user_image ? values.user_image.data\n\t\t\t\t\t\t\t\t\t\t\t\t: values.user_avatar_url\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.largeAvatar}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalues.file_to_load_url &&\n\t\t\t\t\t\t\t\t\t<ImageCropper open={true} selectedFile={values.file_to_load_url}\n\t\t\t\t\t\t\t\t\t\tsetCroppedImageData={(croppedImage) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('file_to_load_url', '');\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('user_image', croppedImage);\n\t\t\t\t\t\t\t\t\t\t}} cropHeight={160} cropWidth={160} />\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<Grid key={2} item>\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t<input onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tconst selectedFile = event.currentTarget.files[0]\n\t\t\t\t\t\t\t\t\t\t\t//remove the object then push a copy of it with added image object\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"file_to_load_url\", selectedFile);\n\t\t\t\t\t\t\t\t\t\t}} accept=\"image/*\" className={classes.fileInputDisplayNone} id={\"user-image-input\"} type=\"file\" />\n\t\t\t\t\t\t\t\t\t\t<label htmlFor={\"user-image-input\"}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t\t<PhotoCamera />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<Box>{values.user_avatar_url || values.user_image ? \"Change Photo\" : \"Add Photo\"}</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item container direction=\"row\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.title}\n\t\t\t\t\t\t\t\t\t\terror={errors.title && touched.title}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.title && errors.title}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{CONTACT_TITLES.map((contact_title, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={contact_title}>\n\t\t\t\t\t\t\t\t\t\t\t\t{contact_title}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Gender\"\n\t\t\t\t\t\t\t\t\t\tid=\"gender\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.gender}\n\t\t\t\t\t\t\t\t\t\terror={errors.gender && touched.gender}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.gender && errors.gender}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{GENDERS_LIST.map((gender_type, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={gender_type}>\n\t\t\t\t\t\t\t\t\t\t\t\t{gender_type}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item container direction=\"row\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"first_name\"\n\t\t\t\t\t\t\t\t\t\tname=\"first_name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"First Name\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.first_name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.first_name && touched.first_name}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.first_name && errors.first_name}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"last_name\"\n\t\t\t\t\t\t\t\t\t\tname=\"last_name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Last Name\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.last_name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.last_name && touched.last_name}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.last_name && errors.last_name}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tid=\"id_number\"\n\t\t\t\t\t\t\t\t\tname=\"id_number\"\n\t\t\t\t\t\t\t\t\tlabel=\"ID Number\"\n\t\t\t\t\t\t\t\t\tvalue={values.id_number}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\terror={errors.id_number && touched.id_number}\n\t\t\t\t\t\t\t\t\thelperText={touched.id_number && errors.id_number}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item container direction=\"row\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"personal_phone_number\"\n\t\t\t\t\t\t\t\t\t\tname=\"personal_phone_number\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Personal Phone Number\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.personal_phone_number && touched.personal_phone_number}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.personal_phone_number && errors.personal_phone_number}\n\t\t\t\t\t\t\t\t\t\tvalue={values.personal_phone_number}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"work_mobile_number\"\n\t\t\t\t\t\t\t\t\t\tname=\"work_mobile_number\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Work Phone Number\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\thelperText=\"Work Phone Number\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.work_mobile_number}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item container direction=\"row\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tname=\"primary_email\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Primary Email\"\n\t\t\t\t\t\t\t\t\t\tid=\"primary_email\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.primary_email}\n\t\t\t\t\t\t\t\t\t\terror={errors.primary_email && touched.primary_email}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.primary_email && errors.primary_email}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tname=\"other_email\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Other Email\"\n\t\t\t\t\t\t\t\t\t\tid=\"other_email\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.other_email}\n\t\t\t\t\t\t\t\t\t\terror={errors.other_email && touched.other_email}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.other_email && errors.other_email}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography>Password</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item container direction=\"row\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"User Password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\t\t\t\t\terror={errors.password && touched.password}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tname=\"confirm_password\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Confirm Password\"\n\t\t\t\t\t\t\t\t\t\tid=\"confirm_password\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.confirm_password}\n\t\t\t\t\t\t\t\t\t\terror={errors.confirm_password && touched.confirm_password}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.confirm_password && errors.confirm_password}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{/** end of user details grid **/}\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\tclassName={classes.buttonBox}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<CancelIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => history.goBack()}\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\t\t\tform=\"userInputForm\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{values.id ? \"Save Details\" : \"Create User\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</Formik>\n\t);\n};\n\nexport default UserInputForm;\n"]},"metadata":{},"sourceType":"module"}