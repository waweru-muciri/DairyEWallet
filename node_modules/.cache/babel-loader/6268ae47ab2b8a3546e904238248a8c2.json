{"ast":null,"code":"var _jsxFileName = \"/home/brianmuciri/Projects/farm-ledger-ld/src/Routes/DocumentsTemplates.js\";\nimport Layout from \"../components/PrivateLayout\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { connect } from \"react-redux\";\nimport { handleDelete, itemsFetchData } from \"../actions/actions\";\nimport CommonTable from \"../components/table/commonTable\";\nimport { withRouter } from \"react-router-dom\";\nimport PageHeading from \"../components/PageHeading\";\nimport { commonStyles } from \"../components/commonStyles\";\nimport { exportDataUploadTemplate } from \"../assets/PrintingHelper\";\nconst ItemsToGenerateTemplatesFor = [{\n  name: \"Contacts\",\n  id: \"contacts\"\n}, {\n  name: \"Rent Charges\",\n  id: \"rent_charges\"\n}, {\n  name: \"Properties\",\n  id: \"properties\"\n}, {\n  name: \"Rental Units\",\n  id: \"rental_units\"\n}];\nconst emailsTableHeadCells = [{\n  id: \"template_name\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Document Name\"\n}, {\n  id: \"last_edit\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Last Edit\"\n}, {\n  id: \"edit\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Edit\"\n}, {\n  id: \"delete\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Delete\"\n}];\n\nlet DocumentsTemplatesPage = ({\n  fetchData,\n  emailTemplates,\n  match,\n  handleItemDelete\n}) => {\n  let classes = commonStyles();\n  const [emailItems, setEmailItems] = useState([]);\n  const [selected, setSelected] = useState([]);\n  const [itemToGenerateTemplate, setItemToGenerateTemplate] = useState(\"\");\n\n  const generateItemTemplate = event => {\n    event.preventDefault();\n    let docTitle;\n    let headCellsToPrint;\n\n    switch (itemToGenerateTemplate) {\n      case \"contacts\":\n        docTitle = \"Contacts Upload Template\";\n        headCellsToPrint = [\"title\", \"gender\", \"id_number\", \"first_name\", \"last_name\", \"personal_phone_number\"];\n        break;\n\n      case \"properties\":\n        docTitle = \"Properties Upload Template\";\n        headCellsToPrint = [\"ref\", \"address\", \"city\", \"postal_code\"];\n        break;\n\n      case \"rental_units\":\n        docTitle = \"Rental Units Upload Template\";\n        headCellsToPrint = [\"ref\", \"unit_type\", \"beds\", \"sqm\", \"baths\"];\n        break;\n\n      case \"rent_charges\":\n        docTitle = \"Rent Charges Upload Template\";\n        headCellsToPrint = [\"charge_amount\", \"charge_date\", \"due_date\"];\n        break;\n\n      default:\n        headCellsToPrint = [];\n        break;\n    }\n\n    exportDataUploadTemplate(docTitle, docTitle, headCellsToPrint, docTitle);\n  };\n\n  useEffect(() => {\n    fetchData(['email-templates']);\n  }, [fetchData]);\n  useEffect(() => {\n    setEmailItems(emailTemplates);\n  }, [emailTemplates]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    pageTitle: \"Documents Templates\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    justify: \"space-evenly\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PageHeading, {\n    text: \"Documents Templates\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    item: true,\n    alignItems: \"center\",\n    direction: \"row\",\n    key: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 40\n      }\n    }),\n    component: Link,\n    to: `${match.url}/new`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"NEW\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 40\n      }\n    }),\n    disabled: !selected.length,\n    component: Link,\n    to: `${match.url}/${selected[0]}/edit`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"Edit\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, \"Items Upload Templates\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    border: 1,\n    borderRadius: \"borderRadius\",\n    borderColor: \"grey.400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    id: \"templateUploadGenerateForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    alignItems: \"center\",\n    justify: \"center\",\n    direction: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    select: true,\n    InputLabelProps: {\n      shrink: true\n    },\n    variant: \"outlined\",\n    id: \"item_to_generate_template\",\n    name: \"item_to_generate_template\",\n    label: \"Item to Generate Template\",\n    value: itemToGenerateTemplate,\n    onChange: event => setItemToGenerateTemplate(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }, ItemsToGenerateTemplatesFor.map((itemToGenerateTemplateFor, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: itemToGenerateTemplateFor.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 49\n    }\n  }, itemToGenerateTemplateFor.name)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: generateItemTemplate,\n    disabled: !itemToGenerateTemplate,\n    type: \"submit\",\n    form: \"templateUploadGenerateForm\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 37\n    }\n  }, \"Generate Upload Template\")))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, \"Email Templates\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CommonTable, {\n    selected: selected,\n    setSelected: setSelected,\n    rows: emailItems,\n    headCells: emailsTableHeadCells,\n    handleDelete: handleItemDelete,\n    deleteUrl: \"email-templates\",\n    noDetailsCol: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }))));\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    emailTemplates: state.emailTemplates,\n    match: ownProps.match\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchData: collectionsUrls => dispatch(itemsFetchData(collectionsUrls)),\n    handleItemDelete: (itemId, url) => dispatch(handleDelete(itemId, url))\n  };\n};\n\nDocumentsTemplatesPage = connect(mapStateToProps, mapDispatchToProps)(DocumentsTemplatesPage);\nexport default withRouter(DocumentsTemplatesPage);","map":{"version":3,"sources":["/home/brianmuciri/Projects/farm-ledger-ld/src/Routes/DocumentsTemplates.js"],"names":["Layout","React","useEffect","useState","Link","AddIcon","EditIcon","Grid","Button","MenuItem","Box","TextField","Typography","connect","handleDelete","itemsFetchData","CommonTable","withRouter","PageHeading","commonStyles","exportDataUploadTemplate","ItemsToGenerateTemplatesFor","name","id","emailsTableHeadCells","numeric","disablePadding","label","DocumentsTemplatesPage","fetchData","emailTemplates","match","handleItemDelete","classes","emailItems","setEmailItems","selected","setSelected","itemToGenerateTemplate","setItemToGenerateTemplate","generateItemTemplate","event","preventDefault","docTitle","headCellsToPrint","url","length","form","shrink","target","value","map","itemToGenerateTemplateFor","index","mapStateToProps","state","ownProps","mapDispatchToProps","dispatch","collectionsUrls","itemId"],"mappings":"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","sourcesContent":["import Layout from \"../components/PrivateLayout\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { connect } from \"react-redux\";\nimport { handleDelete, itemsFetchData } from \"../actions/actions\";\nimport CommonTable from \"../components/table/commonTable\";\nimport { withRouter } from \"react-router-dom\";\nimport PageHeading from \"../components/PageHeading\";\nimport { commonStyles } from \"../components/commonStyles\";\nimport { exportDataUploadTemplate } from \"../assets/PrintingHelper\";\n\nconst ItemsToGenerateTemplatesFor = [\n    { name: \"Contacts\", id: \"contacts\" },\n    { name: \"Rent Charges\", id: \"rent_charges\" },\n    { name: \"Properties\", id: \"properties\" },\n    { name: \"Rental Units\", id: \"rental_units\" },\n]\n\nconst emailsTableHeadCells = [\n    { id: \"template_name\", numeric: false, disablePadding: true, label: \"Document Name\" },\n    { id: \"last_edit\", numeric: false, disablePadding: true, label: \"Last Edit\" },\n    { id: \"edit\", numeric: false, disablePadding: true, label: \"Edit\" },\n    { id: \"delete\", numeric: false, disablePadding: true, label: \"Delete\" },\n];\n\nlet DocumentsTemplatesPage = ({\n    fetchData,\n    emailTemplates,\n    match,\n    handleItemDelete\n}) => {\n    let classes = commonStyles();\n    const [emailItems, setEmailItems] = useState([]);\n    const [selected, setSelected] = useState([]);\n    const [itemToGenerateTemplate, setItemToGenerateTemplate] = useState(\"\");\n\n    const generateItemTemplate = (event) => {\n        event.preventDefault();\n        let docTitle;\n        let headCellsToPrint;\n        switch (itemToGenerateTemplate) {\n            case \"contacts\":\n                docTitle = \"Contacts Upload Template\"\n                headCellsToPrint = [\"title\", \"gender\", \"id_number\", \"first_name\", \"last_name\",\n                    \"personal_phone_number\"]\n                break;\n\n            case \"properties\":\n                docTitle = \"Properties Upload Template\"\n                headCellsToPrint = [\"ref\", \"address\", \"city\", \"postal_code\"]\n                break;\n\n            case \"rental_units\":\n                docTitle = \"Rental Units Upload Template\"\n                headCellsToPrint = [\"ref\", \"unit_type\", \"beds\", \"sqm\", \"baths\"]\n                break;\n\n            case \"rent_charges\":\n                docTitle = \"Rent Charges Upload Template\"\n                headCellsToPrint = [\"charge_amount\", \"charge_date\", \"due_date\"]\n                break;\n\n            default:\n                headCellsToPrint = []\n                break;\n        }\n        exportDataUploadTemplate(docTitle, docTitle, headCellsToPrint, docTitle)\n    }\n\n    useEffect(() => {\n\t\tfetchData(['email-templates']);\n\t}, [fetchData]);\n\n    useEffect(() => {\n        setEmailItems(emailTemplates);\n    }, [emailTemplates]);\n\n    return (\n        <Layout pageTitle=\"Documents Templates\">\n            <Grid\n                container\n                spacing={3}\n                justify=\"space-evenly\"\n                alignItems=\"center\"\n            >\n                <Grid item xs={12}>\n                    <PageHeading text=\"Documents Templates\" />\n                </Grid>\n                <Grid\n                    container\n                    spacing={2}\n                    item\n                    alignItems=\"center\"\n                    direction=\"row\"\n                    key={1}\n                >\n                    <Grid item>\n                        <Button\n                            type=\"button\"\n                            color=\"primary\"\n                            variant=\"contained\"\n                            size=\"medium\"\n                            startIcon={<AddIcon />}\n                            component={Link}\n                            to={`${match.url}/new`}\n                        >\n                            NEW\n                        </Button>\n                    </Grid>\n                    <Grid item>\n                        <Button\n                            type=\"button\"\n                            color=\"primary\"\n                            variant=\"contained\"\n                            size=\"medium\"\n                            startIcon={<EditIcon />}\n                            disabled={!selected.length}\n                            component={Link}\n                            to={`${match.url}/${selected[0]}/edit`}\n                        >\n                            Edit\n                        </Button>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12}>\n                    <Typography variant=\"h6\">Items Upload Templates</Typography>\n                </Grid>\n                <Grid item xs={12}>\n                    <Box\n                        border={1}\n                        borderRadius=\"borderRadius\"\n                        borderColor=\"grey.400\"\n                    >\n                        <form\n                            className={classes.form}\n                            id=\"templateUploadGenerateForm\"\n                        >\n                            <Grid\n                                container\n                                spacing={2}\n                                alignItems=\"center\"\n                                justify=\"center\"\n                                direction=\"row\"\n                            >\n                                <Grid item xs={12} md={8}>\n                                    <TextField\n                                        fullWidth\n                                        select\n                                        InputLabelProps={{ shrink: true }}\n                                        variant=\"outlined\"\n                                        id=\"item_to_generate_template\"\n                                        name=\"item_to_generate_template\"\n                                        label=\"Item to Generate Template\"\n                                        value={itemToGenerateTemplate}\n                                        onChange={(event) => setItemToGenerateTemplate(event.target.value)}\n                                    >\n                                        {ItemsToGenerateTemplatesFor.map(\n                                            (itemToGenerateTemplateFor, index) => (\n                                                <MenuItem\n                                                    key={index}\n                                                    value={itemToGenerateTemplateFor.id}\n                                                >\n                                                    {itemToGenerateTemplateFor.name}\n                                                </MenuItem>\n                                            )\n                                        )}\n                                    </TextField>\n                                </Grid>\n                                <Grid item xs={12} md={4}>\n                                    <Button\n                                        onClick={generateItemTemplate}\n                                        disabled={!itemToGenerateTemplate}\n                                        type=\"submit\"\n                                        form=\"templateUploadGenerateForm\"\n                                        color=\"primary\"\n                                        variant=\"contained\"\n                                        size=\"medium\"\n                                    >\n                                        Generate Upload Template\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </form>\n                    </Box>\n                </Grid>\n                <Grid item xs={12}>\n                    <Typography variant=\"h6\">Email Templates</Typography>\n                </Grid>\n                <Grid item xs={12}>\n                    <CommonTable\n                        selected={selected}\n                        setSelected={setSelected}\n                        rows={emailItems}\n                        headCells={emailsTableHeadCells}\n                        handleDelete={handleItemDelete}\n                        deleteUrl={\"email-templates\"}\n                        noDetailsCol\n                    />\n                </Grid>\n\n            </Grid>\n        </Layout>\n    );\n};\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        emailTemplates: state.emailTemplates,\n        match: ownProps.match,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n        fetchData: (collectionsUrls) => dispatch(itemsFetchData(collectionsUrls)),\n\t\thandleItemDelete: (itemId, url) => dispatch(handleDelete(itemId, url)),\n\t};\n};\n\nDocumentsTemplatesPage = connect(mapStateToProps, mapDispatchToProps)(DocumentsTemplatesPage);\n\nexport default withRouter(DocumentsTemplatesPage);\n"]},"metadata":{},"sourceType":"module"}