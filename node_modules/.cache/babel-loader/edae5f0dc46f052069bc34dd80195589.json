{"ast":null,"code":"var _jsxFileName = \"/home/brianmuciri/Projects/farm-ledger-ld/src/components/charges/ChargeEditForm.js\";\nimport React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CustomSnackbar from '../CustomSnackbar';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { Formik } from \"formik\";\nimport { commonStyles } from \"../commonStyles\";\nimport * as Yup from \"yup\";\nimport { format, startOfToday } from \"date-fns\";\nimport CustomCircularProgress from \"../CustomCircularProgress\";\nimport { getChargeOptions } from \"../../assets/commonAssets\";\nconst CHARGE_OPTIONS = getChargeOptions();\nconst defaultDate = format(startOfToday(), 'yyyy-MM-dd');\nconst ChargeSchema = Yup.object().shape({\n  charge_type: Yup.string().trim().required('Charge type is required'),\n  charge_amount: Yup.number().typeError('Amount must be a number').positive(\"Amount must be a positive number\").required(\"Charge amount is required\"),\n  charge_date: Yup.date().required('Charge Date is Required'),\n  due_date: Yup.date()\n});\nexport default function ChargeEditForm({\n  chargeToEdit,\n  handleItemSubmit,\n  open,\n  handleClose\n}) {\n  const classes = commonStyles();\n  const chargeValues = {\n    id: chargeToEdit.id,\n    charge_amount: chargeToEdit.charge_amount || 0,\n    charge_type: chargeToEdit.charge_type || '',\n    charge_date: chargeToEdit.charge_date || defaultDate,\n    due_date: chargeToEdit.due_date || defaultDate\n  };\n  return /*#__PURE__*/React.createElement(Dialog, {\n    fullWidth: true,\n    maxWidth: \"sm\",\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }\n  }, \"Edit Charge Details\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: chargeValues,\n    enableReinitialize: true,\n    validationSchema: ChargeSchema,\n    onSubmit: async (values, {\n      resetForm,\n      setStatus\n    }) => {\n      try {\n        const charge = {\n          id: chargeToEdit.id,\n          charge_amount: values.charge_amount,\n          charge_date: values.charge_date,\n          due_date: values.due_date,\n          charge_type: values.charge_type,\n          charge_label: CHARGE_OPTIONS.find(({\n            id\n          }) => id === values.charge_type).displayValue\n        };\n        await handleItemSubmit(charge, 'transactions-charges');\n        resetForm({});\n        setStatus({\n          sent: true,\n          msg: \"Charge saved successfully.\"\n        });\n        handleClose();\n      } catch (error) {\n        setStatus({\n          sent: false,\n          msg: `Error! ${error}.`\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, ({\n    values,\n    status,\n    handleSubmit,\n    touched,\n    errors,\n    handleChange,\n    handleBlur,\n    isSubmitting\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    method: \"post\",\n    noValidate: true,\n    id: \"chargeEditForm\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 8\n    }\n  }, status && status.msg && /*#__PURE__*/React.createElement(CustomSnackbar, {\n    variant: status.sent ? \"success\" : \"error\",\n    message: status.msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }), isSubmitting && /*#__PURE__*/React.createElement(CustomCircularProgress, {\n    open: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    spacing: 2,\n    direction: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"charge_date\",\n    type: \"date\",\n    name: \"charge_date\",\n    label: \"Charge Date\",\n    value: values.charge_date,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    InputLabelProps: {\n      shrink: true\n    },\n    error: errors.charge_date && touched.charge_date,\n    helperText: touched.charge_date && errors.charge_date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"due_date\",\n    type: \"date\",\n    name: \"due_date\",\n    label: \"Due Date\",\n    value: values.due_date,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    InputLabelProps: {\n      shrink: true\n    },\n    error: errors.due_date && touched.due_date,\n    helperText: touched.due_date && errors.due_date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    type: \"text\",\n    variant: \"outlined\",\n    name: \"charge_amount\",\n    id: \"charge_amount\",\n    label: \"Charge Amount\",\n    value: values.charge_amount,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.charge_amount && touched.charge_amount,\n    helperText: touched.charge_amount && errors.charge_amount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    select: true,\n    variant: \"outlined\",\n    id: \"charge_type\",\n    name: \"charge_type\",\n    label: \"Charge Type\",\n    value: values.charge_type,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.charge_type && touched.charge_type,\n    helperText: touched.charge_type && errors.charge_type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, CHARGE_OPTIONS.map((chargeOption, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: chargeOption.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, chargeOption.displayValue))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    justify: \"flex-start\",\n    direction: \"row\",\n    className: classes.buttonBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(CancelIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 23\n      }\n    }),\n    onClick: () => handleClose(),\n    disableElevation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 23\n      }\n    }),\n    form: \"chargeEditForm\",\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, \"Save Charge\"))))))));\n}\n;","map":{"version":3,"sources":["/home/brianmuciri/Projects/farm-ledger-ld/src/components/charges/ChargeEditForm.js"],"names":["React","Grid","TextField","MenuItem","Button","SaveIcon","CancelIcon","CustomSnackbar","Dialog","DialogTitle","DialogContent","Formik","commonStyles","Yup","format","startOfToday","CustomCircularProgress","getChargeOptions","CHARGE_OPTIONS","defaultDate","ChargeSchema","object","shape","charge_type","string","trim","required","charge_amount","number","typeError","positive","charge_date","date","due_date","ChargeEditForm","chargeToEdit","handleItemSubmit","open","handleClose","classes","chargeValues","id","values","resetForm","setStatus","charge","charge_label","find","displayValue","sent","msg","error","status","handleSubmit","touched","errors","handleChange","handleBlur","isSubmitting","form","shrink","map","chargeOption","index","buttonBox"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CustomSnackbar from '../CustomSnackbar';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { Formik } from \"formik\";\nimport { commonStyles } from \"../commonStyles\";\nimport * as Yup from \"yup\";\nimport { format, startOfToday } from \"date-fns\";\nimport CustomCircularProgress from \"../CustomCircularProgress\";\nimport { getChargeOptions } from \"../../assets/commonAssets\";\n\nconst CHARGE_OPTIONS = getChargeOptions();\n\n\nconst defaultDate = format(startOfToday(), 'yyyy-MM-dd')\nconst ChargeSchema = Yup.object().shape({\n\tcharge_type: Yup.string().trim().required('Charge type is required'),\n\tcharge_amount: Yup.number().typeError('Amount must be a number').positive(\"Amount must be a positive number\")\n\t\t.required(\"Charge amount is required\"),\n\tcharge_date: Yup.date().required('Charge Date is Required'),\n\tdue_date: Yup.date(),\n});\n\n\nexport default function ChargeEditForm({ chargeToEdit, handleItemSubmit, open, handleClose }) {\n\tconst classes = commonStyles();\n\n\tconst chargeValues = {\n\t\tid: chargeToEdit.id,\n\t\tcharge_amount: chargeToEdit.charge_amount || 0,\n\t\tcharge_type: chargeToEdit.charge_type || '',\n\t\tcharge_date: chargeToEdit.charge_date || defaultDate,\n\t\tdue_date: chargeToEdit.due_date || defaultDate,\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\tfullWidth\n\t\t\tmaxWidth=\"sm\"\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">Edit Charge Details</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={chargeValues}\n\t\t\t\t\tenableReinitialize validationSchema={ChargeSchema}\n\t\t\t\t\tonSubmit={async (values, { resetForm, setStatus }) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst charge = {\n\t\t\t\t\t\t\t\tid: chargeToEdit.id,\n\t\t\t\t\t\t\t\tcharge_amount: values.charge_amount,\n\t\t\t\t\t\t\t\tcharge_date: values.charge_date,\n\t\t\t\t\t\t\t\tdue_date: values.due_date,\n\t\t\t\t\t\t\t\tcharge_type: values.charge_type,\n\t\t\t\t\t\t\t\tcharge_label: CHARGE_OPTIONS.find(({ id }) => id === values.charge_type).displayValue,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tawait handleItemSubmit(charge, 'transactions-charges')\n\t\t\t\t\t\t\tresetForm({});\n\t\t\t\t\t\t\tsetStatus({ sent: true, msg: \"Charge saved successfully.\" })\n\t\t\t\t\t\t\thandleClose();\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tsetStatus({ sent: false, msg: `Error! ${error}.` })\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({\n\t\t\t\t\t\tvalues,\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t\thandleSubmit,\n\t\t\t\t\t\ttouched,\n\t\t\t\t\t\terrors,\n\t\t\t\t\t\thandleChange,\n\t\t\t\t\t\thandleBlur,\n\t\t\t\t\t\tisSubmitting,\n\t\t\t\t\t}) => (\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\t\tid=\"chargeEditForm\"\n\t\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstatus && status.msg && (\n\t\t\t\t\t\t\t\t\t\t<CustomSnackbar\n\t\t\t\t\t\t\t\t\t\t\tvariant={status.sent ? \"success\" : \"error\"}\n\t\t\t\t\t\t\t\t\t\t\tmessage={status.msg}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tisSubmitting && (<CustomCircularProgress open={true} />)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<Grid item container spacing={2} direction=\"column\">\n\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"charge_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"charge_date\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Charge Date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.charge_date}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.charge_date && touched.charge_date}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.charge_date && errors.charge_date}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"due_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"due_date\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Due Date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.due_date}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.due_date && touched.due_date}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.due_date && errors.due_date}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"charge_amount\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"charge_amount\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Charge Amount\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.charge_amount}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.charge_amount && touched.charge_amount}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.charge_amount && errors.charge_amount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"charge_type\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"charge_type\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Charge Type\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.charge_type}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.charge_type && touched.charge_type}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.charge_type && errors.charge_type}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{CHARGE_OPTIONS.map((chargeOption, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={chargeOption.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{chargeOption.displayValue}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonBox}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<CancelIcon />}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleClose()}\n\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\t\t\t\t\tform=\"chargeEditForm\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tSave Charge\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Formik >\n\t\t\t</DialogContent>\n\t\t</Dialog >\n\t);\n};"]},"metadata":{},"sourceType":"module"}