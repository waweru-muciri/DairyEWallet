{"ast":null,"code":"var _jsxFileName = \"/home/brianmuciri/Projects/farm-ledger-ld/src/components/property/UnitLeaseInputForm.js\";\nimport React, { useState } from \"react\";\nimport ChargesTable from './ChargesTable';\nimport ChargeInputModal from './ChargeInputModal';\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CustomSnackbar from '../CustomSnackbar';\nimport { Formik } from \"formik\";\nimport { commonStyles } from \"../../components/commonStyles\";\nimport { getLeaseOptions, getPaymentOptions } from \"../../assets/commonAssets.js\";\nimport * as Yup from \"yup\";\nimport { addMonths, format, startOfMonth, startOfToday } from \"date-fns\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CustomCircularProgress from \"../CustomCircularProgress\";\nconst defaultDate = format(startOfToday(), 'yyyy-MM-dd');\nconst LEASE_TYPES = getLeaseOptions();\nconst RENT_CYCLES = getPaymentOptions();\nconst recurringChargesTableHeadCells = [{\n  id: \"charge_label\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Charge Name\"\n}, {\n  id: \"due_date\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Next Due Date\"\n}, {\n  id: \"amount\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Amount\"\n}, {\n  id: \"frequency\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Frequency\"\n}, {\n  id: \"edit\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Edit\"\n}, {\n  id: \"delete\",\n  numeric: false,\n  disablePadding: true,\n  label: \"Delete\"\n}];\nconst UnitLeaseSchema = Yup.object().shape({\n  lease_type: Yup.string().trim().required(\"Lease Type is Required\"),\n  rent_cycle: Yup.string().trim().required(\"Rent Cycle is Required\"),\n  tenants: Yup.array().required(\"Unit Tenant is Required\"),\n  start_date: Yup.date().required('Start Date is Required'),\n  rent_amount: Yup.number().typeError('Rent Amount must be number').min(0, \"Amount must be a greater than 0\").required('Rent Amount is Required').default(0),\n  security_deposit: Yup.number().typeError('Security Deposit must be number').min(0, \"Amount must be a greater than 0\").default(0),\n  water_deposit: Yup.number().typeError('Water Deposit must be number').min(0, \"Amount must be a greater than 0\").default(0),\n  electricity_deposit: Yup.number().typeError('Water Deposit must be number').min(0, \"Amount must be a greater than 0\").default(0),\n  property_id: Yup.string().trim().required('Property is Required'),\n  unit_id: Yup.string().trim().required('Unit is Required'),\n  end_date: Yup.date().when('lease_type', {\n    is: 'Fixed',\n    then: Yup.date().required('End Date is Required')\n  }),\n  rent_due_date: Yup.date().required('Next Due Date is Required'),\n  security_deposit_due_date: Yup.date()\n});\n\nlet UnitLeaseInputForm = props => {\n  const classes = commonStyles();\n  const {\n    contacts,\n    history,\n    properties,\n    propertyUnits,\n    leaseUnitCharges,\n    handleItemSubmit,\n    handleItemDelete\n  } = props;\n  const leaseToEdit = props.leaseToEdit || {};\n  const unitLeaseValues = {\n    id: leaseToEdit.id,\n    property_id: leaseToEdit.property_id || \"\",\n    unit_id: leaseToEdit.unit_id || \"\",\n    tenants: contacts.filter(({\n      id\n    }) => Array.isArray(leaseToEdit.tenants) ? leaseToEdit.tenants.includes(id) : false),\n    cosigner: contacts.find(({\n      id\n    }) => leaseToEdit.cosigner === id) || null,\n    start_date: leaseToEdit.start_date || defaultDate,\n    end_date: leaseToEdit.end_date || '',\n    rent_due_date: leaseToEdit.rent_due_date || format(addMonths(startOfMonth(new Date()), 1), 'yyyy-MM-dd'),\n    security_deposit_due_date: leaseToEdit.security_deposit_due_date || defaultDate,\n    rent_amount: leaseToEdit.rent_amount || '',\n    terminated: leaseToEdit.terminated || false,\n    security_deposit: leaseToEdit.security_deposit || '',\n    water_deposit: leaseToEdit.water_deposit || '',\n    electricity_deposit: leaseToEdit.electricity_deposit || '',\n    lease_type: leaseToEdit.lease_type || LEASE_TYPES[1],\n    rent_cycle: leaseToEdit.rent_cycle || \"Monthly\",\n    unit_charges: leaseUnitCharges\n  };\n  const defaultChargeValues = {\n    unit_id: leaseToEdit.unit_id,\n    property_id: leaseToEdit.property_id,\n    frequency: '',\n    amount: '',\n    due_date: defaultDate,\n    charge_label: '',\n    type: 'one_time_charge'\n  };\n  const [modalOpenState, toggleModalState] = useState(false);\n  const [chargeToEdit, setChargeToEdit] = useState(defaultChargeValues);\n\n  const handleModalStateToggle = () => {\n    toggleModalState(!modalOpenState);\n  };\n\n  return /*#__PURE__*/React.createElement(Formik, {\n    initialValues: unitLeaseValues,\n    enableReinitialize: true,\n    validationSchema: UnitLeaseSchema,\n    onSubmit: async (values, {\n      resetForm,\n      setStatus\n    }) => {\n      try {\n        let propertyUnitLease = {\n          id: values.id,\n          property_id: values.property_id,\n          unit_id: values.unit_id,\n          lease_type: values.lease_type,\n          rent_cycle: values.rent_cycle,\n          tenants: values.tenants.map(tenant => tenant.id),\n          cosigner: values.cosigner ? values.cosigner.id : \"\",\n          start_date: values.start_date,\n          end_date: values.end_date,\n          rent_due_date: values.rent_due_date,\n          security_deposit: values.security_deposit,\n          water_deposit: values.water_deposit,\n          electricity_deposit: values.electricity_deposit,\n          security_deposit_due_date: values.security_deposit_due_date,\n          rent_amount: values.rent_amount,\n          terminated: values.terminated\n        };\n        const leaseId = await handleItemSubmit(propertyUnitLease, \"leases\");\n\n        if (!values.id) {\n          //post charges for rent and  security deposit \n          const tenant = values.tenants[0];\n          const newRentCharge = {\n            payed: false,\n            charge_amount: values.rent_amount,\n            charge_date: values.start_date,\n            charge_label: \"Rent\",\n            charge_type: \"rent\",\n            due_date: values.start_date,\n            tenant_id: tenant.id,\n            unit_id: values.unit_id,\n            property_id: values.property_id,\n            lease_id: leaseId\n          }; //charge rent on tenant first moving into the unit\n\n          await handleItemSubmit(newRentCharge, 'transactions-charges'); //if the security deposit is not zero then post it as a charge\n\n          if (parseFloat(values.security_deposit)) {\n            const newSecurityDepositCharge = {\n              payed: false,\n              charge_amount: values.security_deposit,\n              charge_date: values.start_date,\n              charge_label: \"Security Deposit\",\n              charge_type: \"security_deposit\",\n              due_date: values.security_deposit_due_date,\n              tenant_id: tenant.id,\n              unit_id: values.unit_id,\n              property_id: values.property_id,\n              lease_id: leaseId\n            };\n            await handleItemSubmit(newSecurityDepositCharge, 'transactions-charges');\n          } //if the water deposit is not zero then post it as a charge\n\n\n          if (parseFloat(values.water_deposit)) {\n            const newWaterDepositCharge = {\n              payed: false,\n              charge_amount: values.water_deposit,\n              charge_date: values.start_date,\n              charge_label: \"Water Deposit\",\n              charge_type: \"water_deposit\",\n              due_date: values.security_deposit_due_date,\n              tenant_id: tenant.id,\n              unit_id: values.unit_id,\n              property_id: values.property_id,\n              lease_id: leaseId\n            };\n            await handleItemSubmit(newWaterDepositCharge, 'transactions-charges');\n          } //if the electric deposit is not zero then post it as a charge\n\n\n          if (parseFloat(values.electricity_deposit)) {\n            const newElectricDepositCharge = {\n              payed: false,\n              charge_amount: values.electricity_deposit,\n              charge_date: values.start_date,\n              charge_label: \"Electricity Deposit\",\n              charge_type: \"electricity_deposit\",\n              due_date: values.security_deposit_due_date,\n              tenant_id: tenant.id,\n              unit_id: values.unit_id,\n              property_id: values.property_id,\n              lease_id: leaseId\n            };\n            await handleItemSubmit(newElectricDepositCharge, 'transactions-charges');\n          }\n        }\n\n        resetForm({});\n\n        if (values.id) {\n          history.goBack();\n        }\n\n        setStatus({\n          sent: true,\n          msg: \"Agreement saved successfully.\"\n        });\n      } catch (error) {\n        setStatus({\n          sent: false,\n          msg: `Error! ${error}.`\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 3\n    }\n  }, ({\n    values,\n    status,\n    handleSubmit,\n    errors,\n    touched,\n    handleChange,\n    setFieldValue,\n    handleBlur,\n    isSubmitting\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    method: \"post\",\n    id: \"unitLeaseInputForm\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    direction: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 6\n    }\n  }, status && status.msg && /*#__PURE__*/React.createElement(CustomSnackbar, {\n    variant: status.sent ? \"success\" : \"error\",\n    message: status.msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  }), isSubmitting && /*#__PURE__*/React.createElement(CustomCircularProgress, {\n    open: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    direction: \"row\",\n    alignItems: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    md: 6,\n    direction: \"column\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 10\n    }\n  }, \"Property & Unit With Agreement\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    label: \"Property\",\n    variant: \"outlined\",\n    id: \"property_id\",\n    select: true,\n    name: \"property_id\",\n    value: values.property_id,\n    onChange: event => {\n      setFieldValue('property_id', event.target.value);\n      setFieldValue('unit_id', '');\n    },\n    onBlur: handleBlur,\n    error: errors.property_id && touched.property_id,\n    helperText: touched.property_id && errors.property_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 10\n    }\n  }, properties.map((property, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: property.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 12\n    }\n  }, property.ref)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    select: true,\n    variant: \"outlined\",\n    id: \"unit_id\",\n    name: \"unit_id\",\n    label: \"Unit\",\n    value: values.unit_id,\n    onChange: event => {\n      setFieldValue('unit_id', event.target.value);\n      setFieldValue('unit_charges', leaseUnitCharges.filter(({\n        unit_id\n      }) => unit_id === event.target.value));\n    },\n    onBlur: handleBlur,\n    error: errors.unit_id && touched.unit_id,\n    helperText: touched.unit_id && errors.unit_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 10\n    }\n  }, propertyUnits.filter(({\n    property_id\n  }) => property_id === values.property_id).map((unit, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: unit.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 12\n    }\n  }, unit.ref)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 10\n    }\n  }, \"Rental Agreement Type\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    select: true,\n    name: \"lease_type\",\n    label: \"Rental Agreement Type\",\n    id: \"lease_type\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.lease_type,\n    error: errors.lease_type && touched.lease_type,\n    helperText: touched.lease_type && errors.lease_type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 10\n    }\n  }, LEASE_TYPES.map((lease_type, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: lease_type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 12\n    }\n  }, lease_type)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 10\n    }\n  }, \"Agreement Start & End Dates\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    justify: \"center\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    label: \"Start Date\",\n    error: 'start_date' in errors,\n    helperText: errors.start_date,\n    id: \"start_date\",\n    type: \"date\",\n    name: \"start_date\",\n    value: values.start_date,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"end_date\",\n    type: \"date\",\n    name: \"end_date\",\n    label: \"End Date\",\n    value: values.end_date,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    InputLabelProps: {\n      shrink: true\n    },\n    error: errors.end_date && touched.end_date,\n    helperText: touched.end_date && errors.end_date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 10\n    }\n  }, \"Rent\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    justify: \"center\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    select: true,\n    name: \"rent_cycle\",\n    label: \"Rent Cycle\",\n    id: \"rent_cycle\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.rent_cycle,\n    error: errors.rent_cycle && touched.rent_cycle,\n    helperText: \"Frequency at which rent is charged on unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 11\n    }\n  }, RENT_CYCLES.map((rent_cycle, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: rent_cycle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 13\n    }\n  }, rent_cycle)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"rent_due_date\",\n    type: \"date\",\n    name: \"rent_due_date\",\n    label: \"Rent Next Due Date\",\n    value: values.rent_due_date,\n    error: errors.rent_due_date && touched.rent_due_date,\n    helperText: \"Next date when the rent is due\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    label: \"Rent Amount\",\n    id: \"rent_amount\",\n    type: \"text\",\n    name: \"rent_amount\",\n    value: values.rent_amount,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.rent_amount && touched.rent_amount,\n    helperText: touched.rent_amount && errors.rent_amount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    md: 6,\n    direction: \"column\",\n    justify: \"center\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    paragraph: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 10\n    }\n  }, \"Rent Security Deposit\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"security_deposit_due_date\",\n    type: \"date\",\n    name: \"security_deposit_due_date\",\n    label: \"Due Date\",\n    helperText: \"Date when the security deposit is due.\",\n    value: values.security_deposit_due_date,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"security_deposit\",\n    label: \"Rent Security Deposit\",\n    name: \"security_deposit\",\n    value: values.security_deposit,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.security_deposit && touched.security_deposit,\n    helperText: touched.security_deposit && errors.security_deposit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    paragraph: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 10\n    }\n  }, \"Water & Electricity Deposits\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"water_deposit\",\n    label: \"Water Deposit\",\n    name: \"water_deposit\",\n    value: values.water_deposit,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.water_deposit && touched.water_deposit,\n    helperText: touched.water_deposit && errors.water_deposit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"electricity_deposit\",\n    label: \"Electricity Deposit\",\n    name: \"electricity_deposit\",\n    value: values.electricity_deposit,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.electricity_deposit && touched.electricity_deposit,\n    helperText: touched.electricity_deposit && errors.electricity_deposit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 10\n    }\n  }, \"Don't forget to record the sales once you have collected the deposits.\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 10\n    }\n  }, \"Tenants & Cosigner\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    id: \"tenants-select\",\n    multiple: true,\n    value: values.tenants,\n    onChange: (event, newValue) => {\n      setFieldValue(\"tenants\", newValue);\n    },\n    style: {\n      width: \"100%\"\n    },\n    options: contacts,\n    autoHighlight: true,\n    getOptionLabel: option => option ? `${option.first_name} ${option.last_name}` : '',\n    renderOption: option => /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 12\n      }\n    }, option.first_name, \" \", option.last_name),\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      label: \"Tenants\",\n      variant: \"outlined\",\n      error: errors.tenants && touched.tenants,\n      helperText: touched.tenants && errors.tenants,\n      inputProps: { ...params.inputProps\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 12\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    id: \"cosigner-select\",\n    value: values.cosigner,\n    onChange: (event, newValue) => {\n      setFieldValue(\"cosigner\", newValue);\n    },\n    style: {\n      width: \"100%\"\n    },\n    options: contacts,\n    autoHighlight: true,\n    getOptionLabel: option => option ? `${option.first_name} ${option.last_name}` : '',\n    renderOption: option => /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 12\n      }\n    }, option.first_name, \" \", option.last_name),\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      label: \"Cosigner\",\n      variant: \"outlined\",\n      error: errors.cosigner && touched.cosigner,\n      helperText: touched.cosigner && errors.cosigner,\n      inputProps: { ...params.inputProps\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 12\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 10\n    }\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"column\",\n    spacing: 1,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 9\n    }\n  }, \"Unit Charges\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(ChargesTable, {\n    rows: values.unit_charges,\n    headCells: recurringChargesTableHeadCells,\n    handleEditClick: rowIndex => {\n      setChargeToEdit(values.unit_charges[rowIndex]);\n      handleModalStateToggle();\n    },\n    handleDelete: rowIndex => {\n      var unitCharges = values.unit_charges.slice();\n      const chargeToDelete = unitCharges.splice(rowIndex, 1)[0] || {};\n\n      if (chargeToDelete.id) {\n        handleItemDelete(chargeToDelete.id, 'unit-charges');\n      }\n\n      setFieldValue(\"unit_charges\", unitCharges);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 9\n    }\n  }), modalOpenState ? /*#__PURE__*/React.createElement(ChargeInputModal, {\n    open: modalOpenState,\n    handleClose: handleModalStateToggle,\n    history: history,\n    handleItemSubmit: handleItemSubmit,\n    chargeValues: chargeToEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 27\n    }\n  }) : null), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.oneMarginTopBottom,\n    variant: \"outlined\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 21\n      }\n    }),\n    onClick: () => {\n      setChargeToEdit({ ...defaultChargeValues,\n        unit_id: values.unit_id\n      });\n\n      if (values.unit_id) {\n        handleModalStateToggle();\n      }\n    },\n    disableElevation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 9\n    }\n  }, \"Add Charge\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"row\",\n    className: classes.buttonBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(CancelIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 21\n      }\n    }),\n    onClick: () => {\n      history.goBack();\n    },\n    disableElevation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 9\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 21\n      }\n    }),\n    form: \"unitLeaseInputForm\",\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 9\n    }\n  }, values.id ? \"Edit Agreement\" : \"Add Agreement\"))))));\n};\n\nexport default UnitLeaseInputForm;","map":{"version":3,"sources":["/home/brianmuciri/Projects/farm-ledger-ld/src/components/property/UnitLeaseInputForm.js"],"names":["React","useState","ChargesTable","ChargeInputModal","Typography","Grid","MenuItem","TextField","Button","SaveIcon","CancelIcon","AddIcon","CustomSnackbar","Formik","commonStyles","getLeaseOptions","getPaymentOptions","Yup","addMonths","format","startOfMonth","startOfToday","Autocomplete","CustomCircularProgress","defaultDate","LEASE_TYPES","RENT_CYCLES","recurringChargesTableHeadCells","id","numeric","disablePadding","label","UnitLeaseSchema","object","shape","lease_type","string","trim","required","rent_cycle","tenants","array","start_date","date","rent_amount","number","typeError","min","default","security_deposit","water_deposit","electricity_deposit","property_id","unit_id","end_date","when","is","then","rent_due_date","security_deposit_due_date","UnitLeaseInputForm","props","classes","contacts","history","properties","propertyUnits","leaseUnitCharges","handleItemSubmit","handleItemDelete","leaseToEdit","unitLeaseValues","filter","Array","isArray","includes","cosigner","find","Date","terminated","unit_charges","defaultChargeValues","frequency","amount","due_date","charge_label","type","modalOpenState","toggleModalState","chargeToEdit","setChargeToEdit","handleModalStateToggle","values","resetForm","setStatus","propertyUnitLease","map","tenant","leaseId","newRentCharge","payed","charge_amount","charge_date","charge_type","tenant_id","lease_id","parseFloat","newSecurityDepositCharge","newWaterDepositCharge","newElectricDepositCharge","goBack","sent","msg","error","status","handleSubmit","errors","touched","handleChange","setFieldValue","handleBlur","isSubmitting","form","event","target","value","property","index","ref","unit","shrink","newValue","width","option","first_name","last_name","params","inputProps","rowIndex","unitCharges","slice","chargeToDelete","splice","oneMarginTopBottom","buttonBox"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport ChargesTable from './ChargesTable'\nimport ChargeInputModal from './ChargeInputModal'\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CustomSnackbar from '../CustomSnackbar'\nimport { Formik } from \"formik\";\nimport { commonStyles } from \"../../components/commonStyles\";\nimport {\n\tgetLeaseOptions, getPaymentOptions\n} from \"../../assets/commonAssets.js\";\nimport * as Yup from \"yup\";\nimport { addMonths, format, startOfMonth, startOfToday } from \"date-fns\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CustomCircularProgress from \"../CustomCircularProgress\";\n\nconst defaultDate = format(startOfToday(), 'yyyy-MM-dd')\nconst LEASE_TYPES = getLeaseOptions();\nconst RENT_CYCLES = getPaymentOptions();\n\nconst recurringChargesTableHeadCells = [\n\t{ id: \"charge_label\", numeric: false, disablePadding: true, label: \"Charge Name\" },\n\t{ id: \"due_date\", numeric: false, disablePadding: true, label: \"Next Due Date\" },\n\t{ id: \"amount\", numeric: false, disablePadding: true, label: \"Amount\" },\n\t{ id: \"frequency\", numeric: false, disablePadding: true, label: \"Frequency\" },\n\t{ id: \"edit\", numeric: false, disablePadding: true, label: \"Edit\" },\n\t{ id: \"delete\", numeric: false, disablePadding: true, label: \"Delete\" },\n]\n\nconst UnitLeaseSchema = Yup.object().shape({\n\tlease_type: Yup.string().trim().required(\"Lease Type is Required\"),\n\trent_cycle: Yup.string().trim().required(\"Rent Cycle is Required\"),\n\ttenants: Yup.array().required(\"Unit Tenant is Required\"),\n\tstart_date: Yup.date().required('Start Date is Required'),\n\trent_amount: Yup.number().typeError('Rent Amount must be number')\n\t\t.min(0, \"Amount must be a greater than 0\").required('Rent Amount is Required').default(0),\n\tsecurity_deposit: Yup.number().typeError('Security Deposit must be number')\n\t\t.min(0, \"Amount must be a greater than 0\").default(0),\n\twater_deposit: Yup.number().typeError('Water Deposit must be number')\n\t\t.min(0, \"Amount must be a greater than 0\").default(0),\n\telectricity_deposit: Yup.number().typeError('Water Deposit must be number')\n\t\t.min(0, \"Amount must be a greater than 0\").default(0),\n\tproperty_id: Yup.string().trim().required('Property is Required'),\n\tunit_id: Yup.string().trim().required('Unit is Required'),\n\tend_date: Yup.date().when('lease_type', { is: 'Fixed', then: Yup.date().required('End Date is Required') }),\n\trent_due_date: Yup.date().required('Next Due Date is Required'),\n\tsecurity_deposit_due_date: Yup.date(),\n});\n\n\nlet UnitLeaseInputForm = (props) => {\n\tconst classes = commonStyles();\n\tconst { contacts, history, properties, propertyUnits, leaseUnitCharges, handleItemSubmit, handleItemDelete } = props\n\tconst leaseToEdit = props.leaseToEdit || {};\n\tconst unitLeaseValues = {\n\t\tid: leaseToEdit.id,\n\t\tproperty_id: leaseToEdit.property_id || \"\",\n\t\tunit_id: leaseToEdit.unit_id || \"\",\n\t\ttenants: contacts.filter(({ id }) => Array.isArray(leaseToEdit.tenants) ? leaseToEdit.tenants.includes(id) : false),\n\t\tcosigner: contacts.find(({ id }) => leaseToEdit.cosigner === id) || null,\n\t\tstart_date: leaseToEdit.start_date || defaultDate,\n\t\tend_date: leaseToEdit.end_date || '',\n\t\trent_due_date: leaseToEdit.rent_due_date || format(addMonths(startOfMonth(new Date()), 1), 'yyyy-MM-dd'),\n\t\tsecurity_deposit_due_date: leaseToEdit.security_deposit_due_date || defaultDate,\n\t\trent_amount: leaseToEdit.rent_amount || '',\n\t\tterminated: leaseToEdit.terminated || false,\n\t\tsecurity_deposit: leaseToEdit.security_deposit || '',\n\t\twater_deposit: leaseToEdit.water_deposit || '',\n\t\telectricity_deposit: leaseToEdit.electricity_deposit || '',\n\t\tlease_type: leaseToEdit.lease_type || LEASE_TYPES[1],\n\t\trent_cycle: leaseToEdit.rent_cycle || \"Monthly\",\n\t\tunit_charges: leaseUnitCharges\n\t};\n\n\tconst defaultChargeValues = {\n\t\tunit_id: leaseToEdit.unit_id,\n\t\tproperty_id: leaseToEdit.property_id,\n\t\tfrequency: '',\n\t\tamount: '',\n\t\tdue_date: defaultDate,\n\t\tcharge_label: '',\n\t\ttype: 'one_time_charge',\n\t}\n\n\tconst [modalOpenState, toggleModalState] = useState(false)\n\tconst [chargeToEdit, setChargeToEdit] = useState(defaultChargeValues)\n\n\n\tconst handleModalStateToggle = () => {\n\t\ttoggleModalState(!modalOpenState)\n\t}\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={unitLeaseValues}\n\t\t\tenableReinitialize validationSchema={UnitLeaseSchema}\n\t\t\tonSubmit={async (values, { resetForm, setStatus }) => {\n\t\t\t\ttry {\n\t\t\t\t\tlet propertyUnitLease = {\n\t\t\t\t\t\tid: values.id,\n\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\tlease_type: values.lease_type,\n\t\t\t\t\t\trent_cycle: values.rent_cycle,\n\t\t\t\t\t\ttenants: values.tenants.map(tenant => tenant.id),\n\t\t\t\t\t\tcosigner: values.cosigner ? values.cosigner.id : \"\",\n\t\t\t\t\t\tstart_date: values.start_date,\n\t\t\t\t\t\tend_date: values.end_date,\n\t\t\t\t\t\trent_due_date: values.rent_due_date,\n\t\t\t\t\t\tsecurity_deposit: values.security_deposit,\n\t\t\t\t\t\twater_deposit: values.water_deposit,\n\t\t\t\t\t\telectricity_deposit: values.electricity_deposit,\n\t\t\t\t\t\tsecurity_deposit_due_date: values.security_deposit_due_date,\n\t\t\t\t\t\trent_amount: values.rent_amount,\n\t\t\t\t\t\tterminated: values.terminated\n\t\t\t\t\t};\n\t\t\t\t\tconst leaseId = await handleItemSubmit(propertyUnitLease, \"leases\")\n\t\t\t\t\tif (!values.id) {\n\t\t\t\t\t\t//post charges for rent and  security deposit \n\t\t\t\t\t\tconst tenant = values.tenants[0]\n\t\t\t\t\t\tconst newRentCharge = {\n\t\t\t\t\t\t\tpayed: false,\n\t\t\t\t\t\t\tcharge_amount: values.rent_amount,\n\t\t\t\t\t\t\tcharge_date: values.start_date,\n\t\t\t\t\t\t\tcharge_label: \"Rent\",\n\t\t\t\t\t\t\tcharge_type: \"rent\",\n\t\t\t\t\t\t\tdue_date: values.start_date,\n\t\t\t\t\t\t\ttenant_id: tenant.id,\n\t\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\t\tlease_id: leaseId,\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//charge rent on tenant first moving into the unit\n\t\t\t\t\t\tawait handleItemSubmit(newRentCharge, 'transactions-charges')\n\t\t\t\t\t\t//if the security deposit is not zero then post it as a charge\n\t\t\t\t\t\tif (parseFloat(values.security_deposit)) {\n\t\t\t\t\t\t\tconst newSecurityDepositCharge = {\n\t\t\t\t\t\t\t\tpayed: false,\n\t\t\t\t\t\t\t\tcharge_amount: values.security_deposit,\n\t\t\t\t\t\t\t\tcharge_date: values.start_date,\n\t\t\t\t\t\t\t\tcharge_label: \"Security Deposit\",\n\t\t\t\t\t\t\t\tcharge_type: \"security_deposit\",\n\t\t\t\t\t\t\t\tdue_date: values.security_deposit_due_date,\n\t\t\t\t\t\t\t\ttenant_id: tenant.id,\n\t\t\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\t\t\tlease_id: leaseId,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait handleItemSubmit(newSecurityDepositCharge, 'transactions-charges')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//if the water deposit is not zero then post it as a charge\n\t\t\t\t\t\tif (parseFloat(values.water_deposit)) {\n\t\t\t\t\t\t\tconst newWaterDepositCharge = {\n\t\t\t\t\t\t\t\tpayed: false,\n\t\t\t\t\t\t\t\tcharge_amount: values.water_deposit,\n\t\t\t\t\t\t\t\tcharge_date: values.start_date,\n\t\t\t\t\t\t\t\tcharge_label: \"Water Deposit\",\n\t\t\t\t\t\t\t\tcharge_type: \"water_deposit\",\n\t\t\t\t\t\t\t\tdue_date: values.security_deposit_due_date,\n\t\t\t\t\t\t\t\ttenant_id: tenant.id,\n\t\t\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\t\t\tlease_id: leaseId,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait handleItemSubmit(newWaterDepositCharge, 'transactions-charges')\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//if the electric deposit is not zero then post it as a charge\n\t\t\t\t\t\tif (parseFloat(values.electricity_deposit)) {\n\t\t\t\t\t\t\tconst newElectricDepositCharge = {\n\t\t\t\t\t\t\t\tpayed: false,\n\t\t\t\t\t\t\t\tcharge_amount: values.electricity_deposit,\n\t\t\t\t\t\t\t\tcharge_date: values.start_date,\n\t\t\t\t\t\t\t\tcharge_label: \"Electricity Deposit\",\n\t\t\t\t\t\t\t\tcharge_type: \"electricity_deposit\",\n\t\t\t\t\t\t\t\tdue_date: values.security_deposit_due_date,\n\t\t\t\t\t\t\t\ttenant_id: tenant.id,\n\t\t\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\t\t\tlease_id: leaseId,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait handleItemSubmit(newElectricDepositCharge, 'transactions-charges')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresetForm({});\n\t\t\t\t\tif (values.id) {\n\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t}\n\t\t\t\t\tsetStatus({ sent: true, msg: \"Agreement saved successfully.\" })\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetStatus({ sent: false, msg: `Error! ${error}.` })\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{({\n\t\t\t\tvalues,\n\t\t\t\tstatus,\n\t\t\t\thandleSubmit,\n\t\t\t\terrors,\n\t\t\t\ttouched,\n\t\t\t\thandleChange,\n\t\t\t\tsetFieldValue,\n\t\t\t\thandleBlur,\n\t\t\t\tisSubmitting,\n\t\t\t}) => (\n\t\t\t\t<form\n\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\tid=\"unitLeaseInputForm\"\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={2} direction=\"column\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstatus && status.msg && (\n\t\t\t\t\t\t\t\t<CustomSnackbar\n\t\t\t\t\t\t\t\t\tvariant={status.sent ? \"success\" : \"error\"}\n\t\t\t\t\t\t\t\t\tmessage={status.msg}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisSubmitting && (<CustomCircularProgress open={true} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Grid container spacing={4} direction=\"row\" alignItems=\"flex-start\">\n\t\t\t\t\t\t\t<Grid item container md={6} direction=\"column\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t\t\tProperty &amp; Unit With Agreement\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Property\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"property_id\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"property_id\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.property_id}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('property_id', event.target.value)\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_id', '')\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.property_id && touched.property_id}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.property_id && errors.property_id}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{properties.map((property, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={property.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{property.ref}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"unit_id\"\n\t\t\t\t\t\t\t\t\t\tname=\"unit_id\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Unit\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.unit_id}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_id', event.target.value)\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_charges', leaseUnitCharges.filter(({ unit_id }) => unit_id === event.target.value)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.unit_id && touched.unit_id}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.unit_id && errors.unit_id}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{/* This requires some additional changes */}\n\t\t\t\t\t\t\t\t\t\t{propertyUnits.filter(({ property_id }) => property_id === values.property_id).map((unit, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={unit.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{unit.ref}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tRental Agreement Type\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"lease_type\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rental Agreement Type\"\n\t\t\t\t\t\t\t\t\t\tid=\"lease_type\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.lease_type}\n\t\t\t\t\t\t\t\t\t\terror={errors.lease_type && touched.lease_type}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.lease_type && errors.lease_type}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{LEASE_TYPES.map((lease_type, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={lease_type}>\n\t\t\t\t\t\t\t\t\t\t\t\t{lease_type}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tAgreement Start &amp; End Dates\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item container direction=\"row\" justify=\"center\" spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Start Date\"\n\t\t\t\t\t\t\t\t\t\t\terror={'start_date' in errors}\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.start_date}\n\t\t\t\t\t\t\t\t\t\t\tid=\"start_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"start_date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.start_date}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"end_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"end_date\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"End Date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.end_date}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.end_date && touched.end_date}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.end_date && errors.end_date}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tRent\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item container direction=\"row\" justify=\"center\" spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\t\tname=\"rent_cycle\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Rent Cycle\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"rent_cycle\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.rent_cycle}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.rent_cycle && touched.rent_cycle}\n\t\t\t\t\t\t\t\t\t\t\thelperText={\"Frequency at which rent is charged on unit\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{RENT_CYCLES.map((rent_cycle, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={rent_cycle}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rent_cycle}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"rent_due_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"rent_due_date\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Rent Next Due Date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.rent_due_date}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.rent_due_date && touched.rent_due_date}\n\t\t\t\t\t\t\t\t\t\t\thelperText={\"Next date when the rent is due\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rent Amount\"\n\t\t\t\t\t\t\t\t\t\tid=\"rent_amount\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"rent_amount\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.rent_amount}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.rent_amount && touched.rent_amount}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.rent_amount && errors.rent_amount}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item container md={6} direction=\"column\" justify=\"center\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" paragraph>\n\t\t\t\t\t\t\t\t\t\tRent Security Deposit\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"security_deposit_due_date\"\n\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\tname=\"security_deposit_due_date\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Due Date\"\n\t\t\t\t\t\t\t\t\t\thelperText=\"Date when the security deposit is due.\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.security_deposit_due_date}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"security_deposit\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rent Security Deposit\"\n\t\t\t\t\t\t\t\t\t\tname=\"security_deposit\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.security_deposit}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.security_deposit && touched.security_deposit}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.security_deposit && errors.security_deposit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" paragraph>\n\t\t\t\t\t\t\t\t\t\tWater &amp; Electricity Deposits\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"water_deposit\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Water Deposit\"\n\t\t\t\t\t\t\t\t\t\tname=\"water_deposit\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.water_deposit}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.water_deposit && touched.water_deposit}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.water_deposit && errors.water_deposit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"electricity_deposit\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Electricity Deposit\"\n\t\t\t\t\t\t\t\t\t\tname=\"electricity_deposit\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.electricity_deposit}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.electricity_deposit && touched.electricity_deposit}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.electricity_deposit && errors.electricity_deposit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant='body1' color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\tDon't forget to record the sales once you have collected the deposits.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tTenants &amp; Cosigner\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\tid=\"tenants-select\"\n\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\tvalue={values.tenants}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"tenants\", newValue);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option ? `${option.first_name} ${option.last_name}` : ''}\n\t\t\t\t\t\t\t\t\t\trenderOption={(option) => (\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{option.first_name} {option.last_name}\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Tenants\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={errors.tenants && touched.tenants}\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.tenants && errors.tenants}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...params.inputProps,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\tid=\"cosigner-select\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.cosigner}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"cosigner\", newValue);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option ? `${option.first_name} ${option.last_name}` : ''}\n\t\t\t\t\t\t\t\t\t\trenderOption={(option) => (\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{option.first_name} {option.last_name}\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cosigner\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={errors.cosigner && touched.cosigner}\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.cosigner && errors.cosigner}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...params.inputProps,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item container direction=\"column\" spacing={1} xs={12}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">Unit Charges</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<ChargesTable\n\t\t\t\t\t\t\t\t\trows={values.unit_charges}\n\t\t\t\t\t\t\t\t\theadCells={recurringChargesTableHeadCells}\n\t\t\t\t\t\t\t\t\thandleEditClick={(rowIndex) => {\n\t\t\t\t\t\t\t\t\t\tsetChargeToEdit(values.unit_charges[rowIndex])\n\t\t\t\t\t\t\t\t\t\thandleModalStateToggle()\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleDelete={(rowIndex) => {\n\t\t\t\t\t\t\t\t\t\tvar unitCharges = values.unit_charges.slice()\n\t\t\t\t\t\t\t\t\t\tconst chargeToDelete = unitCharges.splice(rowIndex, 1)[0] || {}\n\t\t\t\t\t\t\t\t\t\tif (chargeToDelete.id) {\n\t\t\t\t\t\t\t\t\t\t\thandleItemDelete(chargeToDelete.id, 'unit-charges')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"unit_charges\", unitCharges)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmodalOpenState ? <ChargeInputModal open={modalOpenState}\n\t\t\t\t\t\t\t\t\t\thandleClose={handleModalStateToggle} history={history}\n\t\t\t\t\t\t\t\t\t\thandleItemSubmit={handleItemSubmit}\n\t\t\t\t\t\t\t\t\t\tchargeValues={chargeToEdit} /> : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={classes.oneMarginTopBottom}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetChargeToEdit({ ...defaultChargeValues, unit_id: values.unit_id })\n\t\t\t\t\t\t\t\t\t\tif (values.unit_id) {\n\t\t\t\t\t\t\t\t\t\t\thandleModalStateToggle()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisableElevation>\n\t\t\t\t\t\t\t\t\tAdd Charge\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\tclassName={classes.buttonBox}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<CancelIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => { history.goBack() }}\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\t\t\tform=\"unitLeaseInputForm\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{values.id ? \"Edit Agreement\" : \"Add Agreement\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t)\n\t\t\t}\n\t\t</Formik >\n\t);\n};\n\nexport default UnitLeaseInputForm;\n"]},"metadata":{},"sourceType":"module"}