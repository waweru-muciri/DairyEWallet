{"ast":null,"code":"var _jsxFileName = \"/home/brianmuciri/Projects/farm-ledger-ld/src/Routes/MainRoute.js\";\nimport React, { useEffect, Suspense, lazy } from \"react\";\nimport { connect } from \"react-redux\";\nimport { itemsFetchData, setCurrentUser, itemsHasErrored } from \"../actions/actions\";\nimport { BrowserRouter as Router, Route, Switch, useHistory, withRouter } from \"react-router-dom\";\nimport DashBoard from \"./DashBoard\";\nimport LoadingBackdrop from '../components/LoadingBackdrop';\nimport ErrorBoundary from '../components/ErrorBoundary';\nimport NotFound from \"./NotFound\";\nimport { auth } from '../firebase'; // const PropertyUnitPage = lazy(() => import('./PropertyUnitPage'));\n\nconst TenantDetailsPage = lazy(() => import('./TenantDetailsPage')); // const PropertyPage = lazy(() => import('./PropertyPage'));\n// const PropertiesPage = lazy(() => import('./Properties'));\n\nconst DepositsPage = lazy(() => import('./Deposits'));\nconst DepositPage = lazy(() => import('./DepositPage'));\nconst LeasePage = lazy(() => import('./LeasePage'));\nconst ContactsPage = lazy(() => import('./Contacts'));\nconst ContactPage = lazy(() => import('./ContactPage'));\nconst SalesPage = lazy(() => import('./Sales'));\nconst SalePage = lazy(() => import('./SalePage'));\nconst MaintenancesPage = lazy(() => import('./Maintenances')); // const PropertyDetailsPage = lazy(() => import('./PropertyDetails'));\n// const UserPage = lazy(() => import('./UserPage'));\n\nconst UserProfilePage = lazy(() => import('./UserProfilePage'));\nconst MaintenanceRequestPage = lazy(() => import('./MaintenanceRequestPage'));\nconst TenantsStatementsPage = lazy(() => import('./TenantsStatements'));\nconst AccountSettingsPage = lazy(() => import('./AccountSettings'));\nconst ProductPage = lazy(() => import('./ProductPage'));\nconst ProductsPage = lazy(() => import('./Products'));\n\nlet MainPage = ({\n  currentUser,\n  match,\n  fetchData,\n  setUser,\n  setError\n}) => {\n  const history = useHistory();\n  useEffect(() => {\n    // if (!currentUser) {\n    //   // auth.onAuthStateChanged(\n    //   //   async function (user) {\n    //   //     if (user) {\n    //   //       //get details about user\n    //   //       try {\n    //   //         const userDetails = await getFirebaseUserDetails(user)\n    //   //         setUser(userDetails)\n    //   //       } catch (error) {\n    //   //         setUser(null);\n    //   //         history.push(\"/login\");\n    //   //       }\n    //   //     } else {\n    //   //       // User is signed out.\n    //   //       setUser(null);\n    //   //       history.push(\"/login\");\n    //   //     }\n    //   //   },\n    //   //   function (error) {\n    //   //     setUser(null);\n    //   //     setError(error.message);\n    //   //     history.push(\"/login\");\n    //   //     console.log('An error during onauthstatechanged =>', error);\n    //   //   });\n    // }\n    // else {\n    fetchData([\"contacts\", \"sales\", \"client-deposits\", \"products\"]); // }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, currentUser ? /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ErrorBoundary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(LoadingBackdrop, {\n      open: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}`,\n    component: DashBoard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}account-settings`,\n    component: AccountSettingsPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}maintenance-requests/new`,\n    component: MaintenanceRequestPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}maintenance-requests/:maintenanceRequestId/edit`,\n    component: MaintenanceRequestPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}maintenance-requests`,\n    component: MaintenancesPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}leases/new`,\n    component: LeasePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}contacts/:contactId/details`,\n    component: TenantDetailsPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}users/:userId/details`,\n    component: UserProfilePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}contacts`,\n    component: ContactsPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}contacts/new`,\n    component: ContactPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}contacts/:contactId/edit`,\n    component: ContactPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}products/:productId/edit`,\n    component: ProductPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}products`,\n    component: ProductsPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}products/new`,\n    component: ProductPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}reports/tenant-statements`,\n    component: TenantsStatementsPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}sales`,\n    component: SalesPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}sales/:saleId/edit`,\n    component: SalePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}sales/new`,\n    component: SalePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}client-deposits`,\n    component: DepositsPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}client-deposits/:accountDepositId/edit`,\n    component: DepositPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}client-deposits/new`,\n    component: DepositPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\",\n    component: NotFound,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }))))) : null);\n};\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.currentUser\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchData: collectionsUrls => dispatch(itemsFetchData(collectionsUrls)),\n    setUser: user => dispatch(setCurrentUser(user)),\n    setError: error => dispatch(itemsHasErrored(error))\n  };\n};\n\nMainPage = connect(mapStateToProps, mapDispatchToProps)(MainPage);\nexport default withRouter(MainPage);","map":{"version":3,"sources":["/home/brianmuciri/Projects/farm-ledger-ld/src/Routes/MainRoute.js"],"names":["React","useEffect","Suspense","lazy","connect","itemsFetchData","setCurrentUser","itemsHasErrored","BrowserRouter","Router","Route","Switch","useHistory","withRouter","DashBoard","LoadingBackdrop","ErrorBoundary","NotFound","auth","TenantDetailsPage","DepositsPage","DepositPage","LeasePage","ContactsPage","ContactPage","SalesPage","SalePage","MaintenancesPage","UserProfilePage","MaintenanceRequestPage","TenantsStatementsPage","AccountSettingsPage","ProductPage","ProductsPage","MainPage","currentUser","match","fetchData","setUser","setError","history","path","mapStateToProps","state","mapDispatchToProps","dispatch","collectionsUrls","user","error"],"mappings":"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","sourcesContent":["import React, { useEffect, Suspense, lazy } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  itemsFetchData,\n  setCurrentUser,\n  itemsHasErrored,\n} from \"../actions/actions\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n  withRouter,\n} from \"react-router-dom\";\nimport DashBoard from \"./DashBoard\";\nimport LoadingBackdrop from '../components/LoadingBackdrop'\nimport ErrorBoundary from '../components/ErrorBoundary'\nimport NotFound from \"./NotFound\"\nimport { auth } from '../firebase'\n// const PropertyUnitPage = lazy(() => import('./PropertyUnitPage'));\nconst TenantDetailsPage = lazy(() => import('./TenantDetailsPage'));\n// const PropertyPage = lazy(() => import('./PropertyPage'));\n// const PropertiesPage = lazy(() => import('./Properties'));\nconst DepositsPage = lazy(() => import('./Deposits'));\nconst DepositPage = lazy(() => import('./DepositPage'));\nconst LeasePage = lazy(() => import('./LeasePage'));\nconst ContactsPage = lazy(() => import('./Contacts'));\nconst ContactPage = lazy(() => import('./ContactPage'));\nconst SalesPage = lazy(() => import('./Sales'));\nconst SalePage = lazy(() => import('./SalePage'));\nconst MaintenancesPage = lazy(() => import('./Maintenances'));\n// const PropertyDetailsPage = lazy(() => import('./PropertyDetails'));\n// const UserPage = lazy(() => import('./UserPage'));\nconst UserProfilePage = lazy(() => import('./UserProfilePage'));\nconst MaintenanceRequestPage = lazy(() => import('./MaintenanceRequestPage'));\nconst TenantsStatementsPage = lazy(() => import('./TenantsStatements'));\nconst AccountSettingsPage = lazy(() => import('./AccountSettings'));\nconst ProductPage = lazy(() => import('./ProductPage'));\nconst ProductsPage = lazy(() => import('./Products'));\n\n\nlet MainPage = ({\n  currentUser,\n  match,\n  fetchData, setUser, setError\n}) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    // if (!currentUser) {\n    //   // auth.onAuthStateChanged(\n    //   //   async function (user) {\n    //   //     if (user) {\n    //   //       //get details about user\n    //   //       try {\n    //   //         const userDetails = await getFirebaseUserDetails(user)\n    //   //         setUser(userDetails)\n    //   //       } catch (error) {\n    //   //         setUser(null);\n    //   //         history.push(\"/login\");\n    //   //       }\n    //   //     } else {\n    //   //       // User is signed out.\n    //   //       setUser(null);\n    //   //       history.push(\"/login\");\n    //   //     }\n    //   //   },\n    //   //   function (error) {\n    //   //     setUser(null);\n    //   //     setError(error.message);\n    //   //     history.push(\"/login\");\n    //   //     console.log('An error during onauthstatechanged =>', error);\n    //   //   });\n    // }\n    // else {\n      fetchData([\n        \"contacts\",\n        \"sales\",\n        \"client-deposits\",\n        \"products\",\n      ]);\n    // }\n  });\n\n  return (\n    <React.Fragment>\n      {currentUser ?\n        <Router>\n          <ErrorBoundary>\n            <Suspense fallback={<LoadingBackdrop open={true} />}>\n              <Switch>\n                <Route exact path={`${match.path}`} component={DashBoard} />\n                <Route exact path={`${match.path}account-settings`} component={AccountSettingsPage} />\n                <Route exact path={`${match.path}maintenance-requests/new`} component={MaintenanceRequestPage} />\n                <Route exact path={`${match.path}maintenance-requests/:maintenanceRequestId/edit`} component={MaintenanceRequestPage} />\n                <Route exact path={`${match.path}maintenance-requests`} component={MaintenancesPage} />\n                {/* <Route exact path={`${match.path}properties/new`} component={PropertyPage} /> */}\n                {/* <Route exact path={`${match.path}users/new`} component={UserPage} /> */}\n                {/* <Route exact path={`${match.path}users/:userId/edit`} component={UserPage} /> */}\n                {/* <Route exact path={`${match.path}users`} component={UsersPage} /> */}\n                <Route exact path={`${match.path}leases/new`} component={LeasePage} />\n                {/* <Route exact path={`${match.path}properties/:propertyId/edit`} component={PropertyPage} /> */}\n                {/* <Route exact path={`${match.path}properties/:propertyId/details`} component={PropertyDetailsPage} /> */}\n                <Route exact path={`${match.path}contacts/:contactId/details`} component={TenantDetailsPage} />\n                <Route exact path={`${match.path}users/:userId/details`} component={UserProfilePage} />\n                {/* <Route exact path={`${match.path}properties/:propertyId/details/:propertyUnitId/edit`} component={PropertyUnitPage} /> */}\n                {/* <Route exact path={`${match.path}properties/:propertyId/details/new`} component={PropertyUnitPage} /> */}\n                <Route exact path={`${match.path}contacts`} component={ContactsPage} />\n                <Route exact path={`${match.path}contacts/new`} component={ContactPage} />\n                <Route exact path={`${match.path}contacts/:contactId/edit`} component={ContactPage} />\n                <Route exact path={`${match.path}products/:productId/edit`} component={ProductPage} />\n                {/* <Route exact path={`${match.path}properties`} component={PropertiesPage} /> */}\n                <Route exact path={`${match.path}products`} component={ProductsPage} />\n                <Route exact path={`${match.path}products/new`} component={ProductPage} />\n                <Route exact path={`${match.path}reports/tenant-statements`} component={TenantsStatementsPage} />\n                <Route exact path={`${match.path}sales`} component={SalesPage} />\n                <Route exact path={`${match.path}sales/:saleId/edit`} component={SalePage} />\n                <Route exact path={`${match.path}sales/new`} component={SalePage} />\n                <Route exact path={`${match.path}client-deposits`} component={DepositsPage} />\n                <Route exact path={`${match.path}client-deposits/:accountDepositId/edit`} component={DepositPage} />\n                <Route exact path={`${match.path}client-deposits/new`} component={DepositPage} />\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </Suspense>\n          </ErrorBoundary>\n        </Router>\n        : null}\n    </React.Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    currentUser: state.currentUser,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchData: (collectionsUrls) => dispatch(itemsFetchData(collectionsUrls)),\n    setUser: (user) => dispatch(setCurrentUser(user)),\n    setError: (error) => dispatch(itemsHasErrored(error)),\n  };\n};\n\nMainPage = connect(mapStateToProps, mapDispatchToProps)(MainPage);\n\nexport default withRouter(MainPage);\n"]},"metadata":{},"sourceType":"module"}